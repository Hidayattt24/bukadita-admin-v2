{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Asus%20TUF%20Gaming/Documents/KULIAH/Pengabdian%20Website%20Posyandu/bukadita_backoffice/src/components/admin/shared/DataTable.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { Search, Plus, Edit, Trash2, Eye } from \"lucide-react\";\r\n\r\ninterface Column<T> {\r\n  key: string;\r\n  label: string;\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  render?: (value: any, row: T) => React.ReactNode;\r\n}\r\n\r\ninterface DataTableProps<T> {\r\n  title: string;\r\n  data: T[];\r\n  columns: Column<T>[];\r\n  onAdd?: () => void;\r\n  onEdit?: (item: T) => void;\r\n  onDelete?: (item: T) => void;\r\n  onView?: (item: T) => void;\r\n  onCustomAction?: (item: T) => void;\r\n  customActionIcon?: React.ReactNode;\r\n  customActionTitle?: string;\r\n  customActionColor?: string;\r\n  searchPlaceholder?: string;\r\n}\r\n\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nexport default function DataTable<T = any>({\r\n  title,\r\n  data,\r\n  columns,\r\n  onAdd,\r\n  onEdit,\r\n  onDelete,\r\n  onView,\r\n  onCustomAction,\r\n  customActionIcon,\r\n  customActionTitle = \"Custom Action\",\r\n  // customActionColor = \"purple-600\",\r\n  searchPlaceholder = \"Cari data...\"\r\n}: DataTableProps<T>) {\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const itemsPerPage = 10;\r\n\r\n  // Filter data based on search term\r\n  const filteredData = data.filter((item) =>\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    Object.values(item as Record<string, any>).some((value) =>\r\n      String(value).toLowerCase().includes(searchTerm.toLowerCase())\r\n    )\r\n  );\r\n\r\n  // Pagination\r\n  const totalPages = Math.ceil(filteredData.length / itemsPerPage);\r\n  const startIndex = (currentPage - 1) * itemsPerPage;\r\n  const paginatedData = filteredData.slice(startIndex, startIndex + itemsPerPage);\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-2xl p-6 shadow-sm border border-slate-200\">\r\n      {/* Header */}\r\n      <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6\">\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold text-gray-900\">{title}</h2>\r\n          <p className=\"text-gray-600 mt-1\">Total: {filteredData.length} data</p>\r\n        </div>\r\n\r\n        <div className=\"flex flex-col sm:flex-row gap-3\">\r\n          {/* Search */}\r\n          <div className=\"relative\">\r\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n            <input\r\n              type=\"text\"\r\n              placeholder={searchPlaceholder}\r\n              value={searchTerm}\r\n              onChange={(e) => {\r\n                setSearchTerm(e.target.value);\r\n                setCurrentPage(1);\r\n              }}\r\n              className=\"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n            />\r\n          </div>\r\n\r\n          {/* Add Button */}\r\n          {onAdd && (\r\n            <button\r\n              onClick={onAdd}\r\n              className=\"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\r\n            >\r\n              <Plus className=\"w-4 h-4\" />\r\n              Tambah\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Table */}\r\n      <div className=\"overflow-x-auto\">\r\n        <table className=\"min-w-full divide-y divide-gray-200\">\r\n          <thead className=\"bg-gray-50\">\r\n            <tr>\r\n              {columns.map((column) => (\r\n                <th\r\n                  key={column.key}\r\n                  className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\r\n                >\r\n                  {column.label}\r\n                </th>\r\n              ))}\r\n              {(onEdit || onDelete || onView || onCustomAction) && (\r\n                <th className=\"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Aksi\r\n                </th>\r\n              )}\r\n            </tr>\r\n          </thead>\r\n          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n            {paginatedData.length === 0 ? (\r\n              <tr>\r\n                <td\r\n                  colSpan={columns.length + (onEdit || onDelete || onView || onCustomAction ? 1 : 0)}\r\n                  className=\"px-6 py-8 text-center text-gray-500\"\r\n                >\r\n                  {searchTerm ? \"Tidak ada data yang sesuai pencarian\" : \"Belum ada data\"}\r\n                </td>\r\n              </tr>\r\n            ) : (\r\n              paginatedData.map((item, index) => (\r\n                <tr key={index} className=\"hover:bg-gray-50\">\r\n                  {columns.map((column) => (\r\n                    <td key={column.key} className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                      {/* eslint-disable-next-line @typescript-eslint/no-explicit-any */}\r\n                      {column.render ? column.render((item as any)[column.key], item) : String((item as any)[column.key] || '')}\r\n                    </td>\r\n                  ))}\r\n                  {(onEdit || onDelete || onView || onCustomAction) && (\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-center\">\r\n                      <div className=\"flex flex-col items-center justify-center gap-2\">\r\n                        {onCustomAction && (\r\n                          <button\r\n                            onClick={() => onCustomAction(item)}\r\n                            className=\"flex items-center justify-center gap-2 px-3 py-1 w-20 bg-purple-300 text-purple-600 hover:bg-purple-400/80 rounded transition-colors\"\r\n                            title={customActionTitle}\r\n                          >\r\n                            {customActionIcon || <Plus className=\"w-4 h-4\" />}\r\n                            <p className=\"text-sm\">Poin</p>\r\n                          </button>\r\n                        )}\r\n                        {onView && (\r\n                          <button\r\n                            onClick={() => onView(item)}\r\n                            className=\"flex items-center justify-center gap-2 px-3 py-1 w-20 bg-blue-300 text-blue-600 hover:bg-blue-400/80 rounded transition-colors\"\r\n                            title=\"Lihat\"\r\n                          >\r\n                            <Eye className=\"w-4 h-4\" />\r\n                            <p className=\"text-sm\">Lihat</p>\r\n                          </button>\r\n                        )}\r\n                        {onEdit && (\r\n                          <button\r\n                            onClick={() => onEdit(item)}\r\n                            className=\"flex items-center justify-center gap-2 px-3 py-1 w-20 bg-green-300 text-green-600 hover:bg-green-400/80 rounded transition-colors\"\r\n                            title=\"Edit\"\r\n                          >\r\n                            <Edit className=\"w-4 h-4\" />\r\n                            <p className=\"text-sm\">Edit</p>\r\n                          </button>\r\n                        )}\r\n                        {onDelete && (\r\n                          <button\r\n                            onClick={() => onDelete(item)}\r\n                            className=\"flex items-center justify-center gap-2 px-3 py-1 w-20 bg-red-300 text-red-600 hover:bg-red-400/80 rounded transition-colors\"\r\n                            title=\"Hapus\"\r\n                          >\r\n                            <Trash2 className=\"w-4 h-4\" />\r\n                            <p className=\"text-sm\">Hapus</p>\r\n                          </button>\r\n                        )}\r\n                      </div>\r\n                    </td>\r\n                  )}\r\n                </tr>\r\n              ))\r\n            )}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      {/* Pagination */}\r\n      {totalPages > 1 && (\r\n        <div className=\"flex items-center justify-between mt-6\">\r\n          <div className=\"text-sm text-gray-700\">\r\n            Menampilkan {startIndex + 1} - {Math.min(startIndex + itemsPerPage, filteredData.length)} dari {filteredData.length} data\r\n          </div>\r\n          <div className=\"flex gap-2\">\r\n            <button\r\n              onClick={() => setCurrentPage(prev => Math.max(prev - 1, 1))}\r\n              disabled={currentPage === 1}\r\n              className=\"px-3 py-1 border border-gray-300 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50\"\r\n            >\r\n              Prev\r\n            </button>\r\n\r\n            {Array.from({ length: totalPages }, (_, i) => i + 1).map((page) => (\r\n              <button\r\n                key={page}\r\n                onClick={() => setCurrentPage(page)}\r\n                className={`px-3 py-1 border rounded-md ${currentPage === page\r\n                  ? \"bg-blue-600 text-white border-blue-600\"\r\n                  : \"border-gray-300 hover:bg-gray-50\"\r\n                  }`}\r\n              >\r\n                {page}\r\n              </button>\r\n            ))}\r\n\r\n            <button\r\n              onClick={() => setCurrentPage(prev => Math.min(prev + 1, totalPages))}\r\n              disabled={currentPage === totalPages}\r\n              className=\"px-3 py-1 border border-gray-300 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50\"\r\n            >\r\n              Next\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;;;AAHA;;;AA4Be,SAAS,UAAmB,KAavB;QAbuB,EACzC,KAAK,EACL,IAAI,EACJ,OAAO,EACP,KAAK,EACL,MAAM,EACN,QAAQ,EACR,MAAM,EACN,cAAc,EACd,gBAAgB,EAChB,oBAAoB,eAAe,EACnC,oCAAoC;IACpC,oBAAoB,cAAc,EAChB,GAbuB;;IAczC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,wPAAQ,EAAC;IAC7C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,wPAAQ,EAAC;IAC/C,MAAM,eAAe;IAErB,mCAAmC;IACnC,MAAM,eAAe,KAAK,MAAM,CAAC,CAAC,OAChC,8DAA8D;QAC9D,OAAO,MAAM,CAAC,MAA6B,IAAI,CAAC,CAAC,QAC/C,OAAO,OAAO,WAAW,GAAG,QAAQ,CAAC,WAAW,WAAW;IAI/D,aAAa;IACb,MAAM,aAAa,KAAK,IAAI,CAAC,aAAa,MAAM,GAAG;IACnD,MAAM,aAAa,CAAC,cAAc,CAAC,IAAI;IACvC,MAAM,gBAAgB,aAAa,KAAK,CAAC,YAAY,aAAa;IAElE,qBACE,4QAAC;QAAI,WAAU;;0BAEb,4QAAC;gBAAI,WAAU;;kCACb,4QAAC;;0CACC,4QAAC;gCAAG,WAAU;0CAAoC;;;;;;0CAClD,4QAAC;gCAAE,WAAU;;oCAAqB;oCAAQ,aAAa,MAAM;oCAAC;;;;;;;;;;;;;kCAGhE,4QAAC;wBAAI,WAAU;;0CAEb,4QAAC;gCAAI,WAAU;;kDACb,4QAAC,kSAAM;wCAAC,WAAU;;;;;;kDAClB,4QAAC;wCACC,MAAK;wCACL,aAAa;wCACb,OAAO;wCACP,UAAU,CAAC;4CACT,cAAc,EAAE,MAAM,CAAC,KAAK;4CAC5B,eAAe;wCACjB;wCACA,WAAU;;;;;;;;;;;;4BAKb,uBACC,4QAAC;gCACC,SAAS;gCACT,WAAU;;kDAEV,4QAAC,4RAAI;wCAAC,WAAU;;;;;;oCAAY;;;;;;;;;;;;;;;;;;;0BAQpC,4QAAC;gBAAI,WAAU;0BACb,cAAA,4QAAC;oBAAM,WAAU;;sCACf,4QAAC;4BAAM,WAAU;sCACf,cAAA,4QAAC;;oCACE,QAAQ,GAAG,CAAC,CAAC,uBACZ,4QAAC;4CAEC,WAAU;sDAET,OAAO,KAAK;2CAHR,OAAO,GAAG;;;;;oCAMlB,CAAC,UAAU,YAAY,UAAU,cAAc,mBAC9C,4QAAC;wCAAG,WAAU;kDAAmF;;;;;;;;;;;;;;;;;sCAMvG,4QAAC;4BAAM,WAAU;sCACd,cAAc,MAAM,KAAK,kBACxB,4QAAC;0CACC,cAAA,4QAAC;oCACC,SAAS,QAAQ,MAAM,GAAG,CAAC,UAAU,YAAY,UAAU,iBAAiB,IAAI,CAAC;oCACjF,WAAU;8CAET,aAAa,yCAAyC;;;;;;;;;;uCAI3D,cAAc,GAAG,CAAC,CAAC,MAAM,sBACvB,4QAAC;oCAAe,WAAU;;wCACvB,QAAQ,GAAG,CAAC,CAAC,uBACZ,4QAAC;gDAAoB,WAAU;0DAE5B,OAAO,MAAM,GAAG,OAAO,MAAM,CAAC,AAAC,IAAY,CAAC,OAAO,GAAG,CAAC,EAAE,QAAQ,OAAO,AAAC,IAAY,CAAC,OAAO,GAAG,CAAC,IAAI;+CAF/F,OAAO,GAAG;;;;;wCAKpB,CAAC,UAAU,YAAY,UAAU,cAAc,mBAC9C,4QAAC;4CAAG,WAAU;sDACZ,cAAA,4QAAC;gDAAI,WAAU;;oDACZ,gCACC,4QAAC;wDACC,SAAS,IAAM,eAAe;wDAC9B,WAAU;wDACV,OAAO;;4DAEN,kCAAoB,4QAAC,4RAAI;gEAAC,WAAU;;;;;;0EACrC,4QAAC;gEAAE,WAAU;0EAAU;;;;;;;;;;;;oDAG1B,wBACC,4QAAC;wDACC,SAAS,IAAM,OAAO;wDACtB,WAAU;wDACV,OAAM;;0EAEN,4QAAC,yRAAG;gEAAC,WAAU;;;;;;0EACf,4QAAC;gEAAE,WAAU;0EAAU;;;;;;;;;;;;oDAG1B,wBACC,4QAAC;wDACC,SAAS,IAAM,OAAO;wDACtB,WAAU;wDACV,OAAM;;0EAEN,4QAAC,qSAAI;gEAAC,WAAU;;;;;;0EAChB,4QAAC;gEAAE,WAAU;0EAAU;;;;;;;;;;;;oDAG1B,0BACC,4QAAC;wDACC,SAAS,IAAM,SAAS;wDACxB,WAAU;wDACV,OAAM;;0EAEN,4QAAC,sSAAM;gEAAC,WAAU;;;;;;0EAClB,4QAAC;gEAAE,WAAU;0EAAU;;;;;;;;;;;;;;;;;;;;;;;;mCA/C1B;;;;;;;;;;;;;;;;;;;;;YA6DlB,aAAa,mBACZ,4QAAC;gBAAI,WAAU;;kCACb,4QAAC;wBAAI,WAAU;;4BAAwB;4BACxB,aAAa;4BAAE;4BAAI,KAAK,GAAG,CAAC,aAAa,cAAc,aAAa,MAAM;4BAAE;4BAAO,aAAa,MAAM;4BAAC;;;;;;;kCAEtH,4QAAC;wBAAI,WAAU;;0CACb,4QAAC;gCACC,SAAS,IAAM,eAAe,CAAA,OAAQ,KAAK,GAAG,CAAC,OAAO,GAAG;gCACzD,UAAU,gBAAgB;gCAC1B,WAAU;0CACX;;;;;;4BAIA,MAAM,IAAI,CAAC;gCAAE,QAAQ;4BAAW,GAAG,CAAC,GAAG,IAAM,IAAI,GAAG,GAAG,CAAC,CAAC,qBACxD,4QAAC;oCAEC,SAAS,IAAM,eAAe;oCAC9B,WAAW,AAAC,+BAGT,OAHuC,gBAAgB,OACtD,2CACA;8CAGH;mCAPI;;;;;0CAWT,4QAAC;gCACC,SAAS,IAAM,eAAe,CAAA,OAAQ,KAAK,GAAG,CAAC,OAAO,GAAG;gCACzD,UAAU,gBAAgB;gCAC1B,WAAU;0CACX;;;;;;;;;;;;;;;;;;;;;;;;AAQb;GAzMwB;KAAA","debugId":null}},
    {"offset": {"line": 419, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Asus%20TUF%20Gaming/Documents/KULIAH/Pengabdian%20Website%20Posyandu/bukadita_backoffice/src/components/admin/MaterialPreview.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport Image from \"next/image\";\r\nimport { FileText, ImageIcon, Download } from \"lucide-react\";\r\nimport { type Poin, type MediaItem } from \"@/lib/api\";\r\n\r\ninterface MaterialPreviewProps {\r\n  poins: Poin[];\r\n  materialTitle: string;\r\n}\r\n\r\nexport default function MaterialPreview({ poins, materialTitle }: MaterialPreviewProps) {\r\n  const [imageErrors, setImageErrors] = useState<Set<string>>(new Set());\r\n  const getPoinMedia = (poin: Poin): MediaItem[] => {\r\n    return poin.poin_media || [];\r\n  };\r\n\r\n  // Process HTML content with media placeholders\r\n  const processContentWithMedia = (html: string, media: MediaItem[]) => {\r\n    if (!html) return { processedHtml: '', hasMedia: false };\r\n\r\n    let processedHtml = html;\r\n    let hasMediaPlaceholders = false;\r\n\r\n    // First, try to find and replace media placeholders by matching media ID\r\n    media.forEach((mediaItem) => {\r\n\r\n      // Try with media ID first (for new content)\r\n      const mediaIdPlaceholderPattern = new RegExp(`\\\\[MEDIA_PLACEHOLDER_${mediaItem.id}\\\\]`, 'g');\r\n      const mediaIdDivPattern = new RegExp(\r\n        `<div[^>]*data-block-id=\"${mediaItem.id}\"[^>]*>\\\\[MEDIA_PLACEHOLDER_${mediaItem.id}\\\\]</div>`,\r\n        'g'\r\n      );\r\n\r\n      if (processedHtml.includes(`MEDIA_PLACEHOLDER_${mediaItem.id}`)) {\r\n        hasMediaPlaceholders = true;\r\n        const mediaHtml = generateMediaHtml(mediaItem);\r\n        processedHtml = processedHtml.replace(mediaIdDivPattern, mediaHtml);\r\n        processedHtml = processedHtml.replace(mediaIdPlaceholderPattern, mediaHtml);\r\n      }\r\n    });\r\n\r\n    // If no placeholders found with media IDs, try to find any MEDIA_PLACEHOLDER and match by order\r\n    if (!hasMediaPlaceholders) {\r\n      const placeholderMatches = [...processedHtml.matchAll(/<div[^>]*data-block-type=\"media\"[^>]*data-block-order=\"(\\d+)\"[^>]*>\\[MEDIA_PLACEHOLDER_([^\\]]+)\\]<\\/div>/g)];\r\n\r\n      if (placeholderMatches.length > 0) {\r\n        hasMediaPlaceholders = true;\r\n\r\n        // Sort placeholders by order and media by created_at (to maintain input order)\r\n        const sortedMedia = [...media].sort((a, b) => {\r\n          if (a.created_at && b.created_at) {\r\n            return new Date(a.created_at).getTime() - new Date(b.created_at).getTime();\r\n          }\r\n          return 0; // Keep original order if no created_at\r\n        });\r\n\r\n        placeholderMatches\r\n          .sort((a, b) => parseInt(a[1]) - parseInt(b[1])) // Sort by data-block-order\r\n          .forEach((match, index) => {\r\n            if (sortedMedia[index]) {\r\n              const mediaHtml = generateMediaHtml(sortedMedia[index]);\r\n              processedHtml = processedHtml.replace(match[0], mediaHtml);\r\n            }\r\n          });\r\n      }\r\n    }\r\n\r\n    // If still no placeholders found, try to find any MEDIA_PLACEHOLDER and replace sequentially\r\n    if (!hasMediaPlaceholders) {\r\n      const anyPlaceholderPattern = /\\[MEDIA_PLACEHOLDER_[^\\]]+\\]/g;\r\n      const placeholderMatches = processedHtml.match(anyPlaceholderPattern);\r\n\r\n      if (placeholderMatches && placeholderMatches.length > 0) {\r\n        hasMediaPlaceholders = true;\r\n\r\n        // Sort media by created_at to maintain input order\r\n        const sortedMedia = [...media].sort((a, b) => {\r\n          if (a.created_at && b.created_at) {\r\n            return new Date(a.created_at).getTime() - new Date(b.created_at).getTime();\r\n          }\r\n          return 0;\r\n        });\r\n\r\n        placeholderMatches.forEach((placeholder, index) => {\r\n          if (sortedMedia[index]) {\r\n            const mediaHtml = generateMediaHtml(sortedMedia[index]);\r\n            processedHtml = processedHtml.replace(placeholder, mediaHtml);\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n    return { processedHtml, hasMedia: hasMediaPlaceholders || media.length > 0 };\r\n  };\r\n\r\n  const generateMediaHtml = (media: MediaItem): string => {\r\n    const mimeType = media.mime_type;\r\n\r\n    if (mimeType?.startsWith('image/')) {\r\n      return `\r\n        <div class=\"my-4\">\r\n          <div class=\"relative\">\r\n            <img \r\n              src=\"${media.file_url}\" \r\n              alt=\"${media.caption || 'Gambar'}\"\r\n              class=\"w-full max-w-3xl rounded-lg shadow-sm\"\r\n              loading=\"lazy\"\r\n              style=\"display: none;\"\r\n              onload=\"this.style.display='block'; this.nextElementSibling.style.display='none';\"\r\n              onerror=\"this.style.display='none'; this.nextElementSibling.innerHTML='<div class=&quot;bg-gray-100 rounded-lg flex items-center justify-center h-32&quot;><div class=&quot;text-center text-gray-500&quot;><p class=&quot;text-sm&quot;>Gambar tidak dapat dimuat</p></div></div>';\"\r\n            />\r\n            <div class=\"bg-gray-50 rounded-lg flex items-center justify-center h-32\">\r\n              <div class=\"text-center text-gray-500\">\r\n                <div class=\"animate-spin w-6 h-6 border-2 border-gray-300 border-t-blue-600 rounded-full mx-auto mb-2\"></div>\r\n                <p class=\"text-sm\">Memuat gambar...</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          ${media.caption ? `<p class=\"text-sm text-gray-600 mt-2 italic\">${media.caption}</p>` : ''}\r\n        </div>\r\n      `;\r\n    }\r\n\r\n    if (mimeType?.startsWith('video/')) {\r\n      return `\r\n        <div class=\"my-4\">\r\n          <video src=\"${media.file_url}\" controls class=\"w-full max-w-3xl rounded-lg shadow-sm\" preload=\"metadata\">\r\n            Browser tidak mendukung video.\r\n          </video>\r\n          ${media.caption ? `<p class=\"text-sm text-gray-600 mt-2 italic\">${media.caption}</p>` : ''}\r\n        </div>\r\n      `;\r\n    }\r\n\r\n    if (mimeType?.startsWith('audio/')) {\r\n      return `\r\n        <div class=\"my-4\">\r\n          <audio src=\"${media.file_url}\" controls class=\"w-full max-w-md\" preload=\"metadata\">Browser tidak mendukung audio.</audio>\r\n          ${media.caption ? `<p class=\"text-sm text-gray-600 mt-2 italic\">${media.caption}</p>` : ''}\r\n        </div>\r\n      `;\r\n    }\r\n\r\n    // Other file types\r\n    return `\r\n      <div class=\"my-4\">\r\n        <a href=\"${media.file_url}\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"inline-flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors\">\r\n          ${mimeType === 'application/pdf' ? 'Buka PDF' : 'Download File'}\r\n        </a>\r\n        ${media.caption ? `<p class=\"text-sm text-gray-600 mt-2 italic\">${media.caption}</p>` : ''}\r\n      </div>\r\n    `;\r\n  };\r\n\r\n\r\n\r\n  const renderMediaItem = (media: MediaItem) => {\r\n    const mimeType = media.mime_type;\r\n\r\n    if (mimeType?.startsWith('image/')) {\r\n      if (imageErrors.has(media.id)) {\r\n        return (\r\n          <div className=\"bg-gray-100 border border-gray-200 rounded-lg flex items-center justify-center h-32\">\r\n            <div className=\"text-center text-gray-500\">\r\n              <ImageIcon className=\"w-8 h-8 mx-auto mb-2\" />\r\n              <p className=\"text-sm\">Gambar tidak dapat dimuat</p>\r\n            </div>\r\n          </div>\r\n        );\r\n      }\r\n\r\n      return (\r\n        <div className=\"relative\">\r\n          <Image\r\n            src={media.file_url}\r\n            alt={media.caption || 'Gambar'}\r\n            width={800}\r\n            height={600}\r\n            className=\"w-full max-w-3xl rounded-lg shadow-sm\"\r\n            unoptimized\r\n            onError={() => setImageErrors(prev => new Set(prev).add(media.id))}\r\n            onLoad={() => {\r\n              setImageErrors(prev => {\r\n                const newSet = new Set(prev);\r\n                newSet.delete(media.id);\r\n                return newSet;\r\n              });\r\n            }}\r\n          />\r\n          {media.caption && <p className=\"text-sm text-gray-600 mt-2 italic\">{media.caption}</p>}\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (mimeType?.startsWith('video/')) {\r\n      return (\r\n        <div>\r\n          <video src={media.file_url} controls className=\"w-full max-w-3xl rounded-lg shadow-sm\" preload=\"metadata\">\r\n            Browser tidak mendukung video.\r\n          </video>\r\n          {media.caption && <p className=\"text-sm text-gray-600 mt-2 italic\">{media.caption}</p>}\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (mimeType?.startsWith('audio/')) {\r\n      return (\r\n        <div>\r\n          <audio src={media.file_url} controls className=\"w-full max-w-md\" preload=\"metadata\">Browser tidak mendukung audio.</audio>\r\n          {media.caption && <p className=\"text-sm text-gray-600 mt-2 italic\">{media.caption}</p>}\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <a href={media.file_url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"inline-flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors\">\r\n          <Download className=\"w-4 h-4\" />\r\n          {mimeType === 'application/pdf' ? 'Buka PDF' : 'Download File'}\r\n        </a>\r\n        {media.caption && <p className=\"text-sm text-gray-600 mt-2 italic\">{media.caption}</p>}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const sortedPoins = [...poins].sort((a, b) => (a.order_index || 0) - (b.order_index || 0));\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-xl shadow-sm border border-gray-200\">\r\n      <div className=\"p-6 border-b border-gray-200\">\r\n        <h2 className=\"text-xl font-bold text-gray-900\">Preview: {materialTitle}</h2>\r\n        <p className=\"text-sm text-gray-600 mt-1\">{poins.length} poin pembelajaran tersedia</p>\r\n      </div>\r\n\r\n      <div className=\"divide-y divide-gray-200\">\r\n        {sortedPoins.map((poin, index) => {\r\n          const media = getPoinMedia(poin);\r\n          const { processedHtml, hasMedia } = processContentWithMedia(poin.content_html, media);\r\n\r\n          return (\r\n            <div key={poin.id} className=\"p-6\">\r\n              <div className=\"mb-4\">\r\n                <div className=\"flex items-center gap-3 mb-3\">\r\n                  <h3 className=\"text-lg font-semibold text-gray-900\">{index + 1}. {poin.title}</h3>\r\n                  {poin.duration_label && (<span className=\"text-xs text-blue-600 bg-blue-100 px-3 py-1 rounded-full font-medium\">{poin.duration_label}</span>)}\r\n                  {poin.duration_minutes && (<span className=\"text-xs text-gray-500 bg-gray-100 px-3 py-1 rounded-full\">{poin.duration_minutes} menit</span>)}\r\n                  {hasMedia && (<span className=\"text-xs text-green-600 bg-green-100 px-3 py-1 rounded-full font-medium\">ðŸ“Ž {media.length} Media</span>)}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"prose prose-sm max-w-none text-gray-700\">\r\n                {/* Always show processed HTML if it has meaningful content, otherwise use fallback */}\r\n                {processedHtml && processedHtml !== poin.content_html ? (\r\n                  <div dangerouslySetInnerHTML={{ __html: processedHtml }} />\r\n                ) : (\r\n                  // Fallback: show original content + media inline (no separate section header)\r\n                  <>\r\n                    <div dangerouslySetInnerHTML={{ __html: poin.content_html || '<p>Konten kosong</p>' }} />\r\n                    {media.length > 0 && (\r\n                      <div className=\"space-y-4 mt-6\">\r\n                        {/* Sort media by created_at to maintain input order */}\r\n                        {[...media]\r\n                          .sort((a, b) => {\r\n                            if (a.created_at && b.created_at) {\r\n                              return new Date(a.created_at).getTime() - new Date(b.created_at).getTime();\r\n                            }\r\n                            return 0;\r\n                          })\r\n                          .map((mediaItem) => (\r\n                            <div key={mediaItem.id} className=\"my-4\">{renderMediaItem(mediaItem)}</div>\r\n                          ))}\r\n                      </div>\r\n                    )}\r\n                  </>\r\n                )}\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n\r\n      {poins.length === 0 && (\r\n        <div className=\"p-12 text-center text-gray-500\">\r\n          <FileText className=\"w-16 h-16 mx-auto mb-4 text-gray-300\" />\r\n          <p className=\"text-lg font-medium\">Belum ada poin untuk ditampilkan</p>\r\n          <p className=\"text-sm\">Tambahkan poin di tab &quot;Kelola Poin&quot; terlebih dahulu</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;;;AAJA;;;;AAYe,SAAS,gBAAgB,KAA8C;QAA9C,EAAE,KAAK,EAAE,aAAa,EAAwB,GAA9C;;IACtC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,wPAAQ,EAAc,IAAI;IAChE,MAAM,eAAe,CAAC;QACpB,OAAO,KAAK,UAAU,IAAI,EAAE;IAC9B;IAEA,+CAA+C;IAC/C,MAAM,0BAA0B,CAAC,MAAc;QAC7C,IAAI,CAAC,MAAM,OAAO;YAAE,eAAe;YAAI,UAAU;QAAM;QAEvD,IAAI,gBAAgB;QACpB,IAAI,uBAAuB;QAE3B,yEAAyE;QACzE,MAAM,OAAO,CAAC,CAAC;YAEb,4CAA4C;YAC5C,MAAM,4BAA4B,IAAI,OAAO,AAAC,wBAAoC,OAAb,UAAU,EAAE,EAAC,QAAM;YACxF,MAAM,oBAAoB,IAAI,OAC5B,AAAC,2BAAqE,OAA3C,UAAU,EAAE,EAAC,gCAA2C,OAAb,UAAU,EAAE,EAAC,cACnF;YAGF,IAAI,cAAc,QAAQ,CAAC,AAAC,qBAAiC,OAAb,UAAU,EAAE,IAAK;gBAC/D,uBAAuB;gBACvB,MAAM,YAAY,kBAAkB;gBACpC,gBAAgB,cAAc,OAAO,CAAC,mBAAmB;gBACzD,gBAAgB,cAAc,OAAO,CAAC,2BAA2B;YACnE;QACF;QAEA,gGAAgG;QAChG,IAAI,CAAC,sBAAsB;YACzB,MAAM,qBAAqB;mBAAI,cAAc,QAAQ,CAAC;aAA6G;YAEnK,IAAI,mBAAmB,MAAM,GAAG,GAAG;gBACjC,uBAAuB;gBAEvB,+EAA+E;gBAC/E,MAAM,cAAc;uBAAI;iBAAM,CAAC,IAAI,CAAC,CAAC,GAAG;oBACtC,IAAI,EAAE,UAAU,IAAI,EAAE,UAAU,EAAE;wBAChC,OAAO,IAAI,KAAK,EAAE,UAAU,EAAE,OAAO,KAAK,IAAI,KAAK,EAAE,UAAU,EAAE,OAAO;oBAC1E;oBACA,OAAO,GAAG,uCAAuC;gBACnD;gBAEA,mBACG,IAAI,CAAC,CAAC,GAAG,IAAM,SAAS,CAAC,CAAC,EAAE,IAAI,SAAS,CAAC,CAAC,EAAE,GAAG,2BAA2B;iBAC3E,OAAO,CAAC,CAAC,OAAO;oBACf,IAAI,WAAW,CAAC,MAAM,EAAE;wBACtB,MAAM,YAAY,kBAAkB,WAAW,CAAC,MAAM;wBACtD,gBAAgB,cAAc,OAAO,CAAC,KAAK,CAAC,EAAE,EAAE;oBAClD;gBACF;YACJ;QACF;QAEA,6FAA6F;QAC7F,IAAI,CAAC,sBAAsB;YACzB,MAAM,wBAAwB;YAC9B,MAAM,qBAAqB,cAAc,KAAK,CAAC;YAE/C,IAAI,sBAAsB,mBAAmB,MAAM,GAAG,GAAG;gBACvD,uBAAuB;gBAEvB,mDAAmD;gBACnD,MAAM,cAAc;uBAAI;iBAAM,CAAC,IAAI,CAAC,CAAC,GAAG;oBACtC,IAAI,EAAE,UAAU,IAAI,EAAE,UAAU,EAAE;wBAChC,OAAO,IAAI,KAAK,EAAE,UAAU,EAAE,OAAO,KAAK,IAAI,KAAK,EAAE,UAAU,EAAE,OAAO;oBAC1E;oBACA,OAAO;gBACT;gBAEA,mBAAmB,OAAO,CAAC,CAAC,aAAa;oBACvC,IAAI,WAAW,CAAC,MAAM,EAAE;wBACtB,MAAM,YAAY,kBAAkB,WAAW,CAAC,MAAM;wBACtD,gBAAgB,cAAc,OAAO,CAAC,aAAa;oBACrD;gBACF;YACF;QACF;QAEA,OAAO;YAAE;YAAe,UAAU,wBAAwB,MAAM,MAAM,GAAG;QAAE;IAC7E;IAEA,MAAM,oBAAoB,CAAC;QACzB,MAAM,WAAW,MAAM,SAAS;QAEhC,IAAI,qBAAA,+BAAA,SAAU,UAAU,CAAC,WAAW;YAClC,OAAO,AAAC,yGAKO,OADA,MAAM,QAAQ,EAAC,2BAexB,OAdS,MAAM,OAAO,IAAI,UAAS,m7BAcsD,OAAzF,MAAM,OAAO,GAAG,AAAC,gDAA6D,OAAd,MAAM,OAAO,EAAC,UAAQ,IAAG;QAGjG;QAEA,IAAI,qBAAA,+BAAA,SAAU,UAAU,CAAC,WAAW;YAClC,OAAO,AAAC,uDAKF,OAHY,MAAM,QAAQ,EAAC,4JAG8D,OAAzF,MAAM,OAAO,GAAG,AAAC,gDAA6D,OAAd,MAAM,OAAO,EAAC,UAAQ,IAAG;QAGjG;QAEA,IAAI,qBAAA,+BAAA,SAAU,UAAU,CAAC,WAAW;YAClC,OAAO,AAAC,uDAGF,OADY,MAAM,QAAQ,EAAC,4GAC8D,OAAzF,MAAM,OAAO,GAAG,AAAC,gDAA6D,OAAd,MAAM,OAAO,EAAC,UAAQ,IAAG;QAGjG;QAEA,mBAAmB;QACnB,OAAO,AAAC,gDAGA,OADO,MAAM,QAAQ,EAAC,2LAGxB,OAFE,aAAa,oBAAoB,aAAa,iBAAgB,4BAEyB,OAAzF,MAAM,OAAO,GAAG,AAAC,gDAA6D,OAAd,MAAM,OAAO,EAAC,UAAQ,IAAG;IAGjG;IAIA,MAAM,kBAAkB,CAAC;QACvB,MAAM,WAAW,MAAM,SAAS;QAEhC,IAAI,qBAAA,+BAAA,SAAU,UAAU,CAAC,WAAW;YAClC,IAAI,YAAY,GAAG,CAAC,MAAM,EAAE,GAAG;gBAC7B,qBACE,4QAAC;oBAAI,WAAU;8BACb,cAAA,4QAAC;wBAAI,WAAU;;0CACb,4QAAC,uSAAS;gCAAC,WAAU;;;;;;0CACrB,4QAAC;gCAAE,WAAU;0CAAU;;;;;;;;;;;;;;;;;YAI/B;YAEA,qBACE,4QAAC;gBAAI,WAAU;;kCACb,4QAAC,0NAAK;wBACJ,KAAK,MAAM,QAAQ;wBACnB,KAAK,MAAM,OAAO,IAAI;wBACtB,OAAO;wBACP,QAAQ;wBACR,WAAU;wBACV,WAAW;wBACX,SAAS,IAAM,eAAe,CAAA,OAAQ,IAAI,IAAI,MAAM,GAAG,CAAC,MAAM,EAAE;wBAChE,QAAQ;4BACN,eAAe,CAAA;gCACb,MAAM,SAAS,IAAI,IAAI;gCACvB,OAAO,MAAM,CAAC,MAAM,EAAE;gCACtB,OAAO;4BACT;wBACF;;;;;;oBAED,MAAM,OAAO,kBAAI,4QAAC;wBAAE,WAAU;kCAAqC,MAAM,OAAO;;;;;;;;;;;;QAGvF;QAEA,IAAI,qBAAA,+BAAA,SAAU,UAAU,CAAC,WAAW;YAClC,qBACE,4QAAC;;kCACC,4QAAC;wBAAM,KAAK,MAAM,QAAQ;wBAAE,QAAQ;wBAAC,WAAU;wBAAwC,SAAQ;kCAAW;;;;;;oBAGzG,MAAM,OAAO,kBAAI,4QAAC;wBAAE,WAAU;kCAAqC,MAAM,OAAO;;;;;;;;;;;;QAGvF;QAEA,IAAI,qBAAA,+BAAA,SAAU,UAAU,CAAC,WAAW;YAClC,qBACE,4QAAC;;kCACC,4QAAC;wBAAM,KAAK,MAAM,QAAQ;wBAAE,QAAQ;wBAAC,WAAU;wBAAkB,SAAQ;kCAAW;;;;;;oBACnF,MAAM,OAAO,kBAAI,4QAAC;wBAAE,WAAU;kCAAqC,MAAM,OAAO;;;;;;;;;;;;QAGvF;QAEA,qBACE,4QAAC;;8BACC,4QAAC;oBAAE,MAAM,MAAM,QAAQ;oBAAE,QAAO;oBAAS,KAAI;oBAAsB,WAAU;;sCAC3E,4QAAC,wSAAQ;4BAAC,WAAU;;;;;;wBACnB,aAAa,oBAAoB,aAAa;;;;;;;gBAEhD,MAAM,OAAO,kBAAI,4QAAC;oBAAE,WAAU;8BAAqC,MAAM,OAAO;;;;;;;;;;;;IAGvF;IAEA,MAAM,cAAc;WAAI;KAAM,CAAC,IAAI,CAAC,CAAC,GAAG,IAAM,CAAC,EAAE,WAAW,IAAI,CAAC,IAAI,CAAC,EAAE,WAAW,IAAI,CAAC;IAExF,qBACE,4QAAC;QAAI,WAAU;;0BACb,4QAAC;gBAAI,WAAU;;kCACb,4QAAC;wBAAG,WAAU;;4BAAkC;4BAAU;;;;;;;kCAC1D,4QAAC;wBAAE,WAAU;;4BAA8B,MAAM,MAAM;4BAAC;;;;;;;;;;;;;0BAG1D,4QAAC;gBAAI,WAAU;0BACZ,YAAY,GAAG,CAAC,CAAC,MAAM;oBACtB,MAAM,QAAQ,aAAa;oBAC3B,MAAM,EAAE,aAAa,EAAE,QAAQ,EAAE,GAAG,wBAAwB,KAAK,YAAY,EAAE;oBAE/E,qBACE,4QAAC;wBAAkB,WAAU;;0CAC3B,4QAAC;gCAAI,WAAU;0CACb,cAAA,4QAAC;oCAAI,WAAU;;sDACb,4QAAC;4CAAG,WAAU;;gDAAuC,QAAQ;gDAAE;gDAAG,KAAK,KAAK;;;;;;;wCAC3E,KAAK,cAAc,kBAAK,4QAAC;4CAAK,WAAU;sDAAwE,KAAK,cAAc;;;;;;wCACnI,KAAK,gBAAgB,kBAAK,4QAAC;4CAAK,WAAU;;gDAA4D,KAAK,gBAAgB;gDAAC;;;;;;;wCAC5H,0BAAa,4QAAC;4CAAK,WAAU;;gDAAyE;gDAAI,MAAM,MAAM;gDAAC;;;;;;;;;;;;;;;;;;0CAI5H,4QAAC;gCAAI,WAAU;0CAEZ,iBAAiB,kBAAkB,KAAK,YAAY,iBACnD,4QAAC;oCAAI,yBAAyB;wCAAE,QAAQ;oCAAc;;;;;2CAEtD,8EAA8E;8CAC9E;;sDACE,4QAAC;4CAAI,yBAAyB;gDAAE,QAAQ,KAAK,YAAY,IAAI;4CAAuB;;;;;;wCACnF,MAAM,MAAM,GAAG,mBACd,4QAAC;4CAAI,WAAU;sDAEZ;mDAAI;6CAAM,CACR,IAAI,CAAC,CAAC,GAAG;gDACR,IAAI,EAAE,UAAU,IAAI,EAAE,UAAU,EAAE;oDAChC,OAAO,IAAI,KAAK,EAAE,UAAU,EAAE,OAAO,KAAK,IAAI,KAAK,EAAE,UAAU,EAAE,OAAO;gDAC1E;gDACA,OAAO;4CACT,GACC,GAAG,CAAC,CAAC,0BACJ,4QAAC;oDAAuB,WAAU;8DAAQ,gBAAgB;mDAAhD,UAAU,EAAE;;;;;;;;;;;;;;;;;;uBA7B5B,KAAK,EAAE;;;;;gBAsCrB;;;;;;YAGD,MAAM,MAAM,KAAK,mBAChB,4QAAC;gBAAI,WAAU;;kCACb,4QAAC,4SAAQ;wBAAC,WAAU;;;;;;kCACpB,4QAAC;wBAAE,WAAU;kCAAsB;;;;;;kCACnC,4QAAC;wBAAE,WAAU;kCAAU;;;;;;;;;;;;;;;;;;AAKjC;GAxRwB;KAAA","debugId":null}},
    {"offset": {"line": 915, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Asus%20TUF%20Gaming/Documents/KULIAH/Pengabdian%20Website%20Posyandu/bukadita_backoffice/src/components/admin/shared/ModuleItemsPage.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useMemo, useState, useCallback } from \"react\";\r\nimport type React from \"react\";\r\nimport Swal from \"sweetalert2\";\r\nimport { RefreshCw, Plus, Edit, X } from \"lucide-react\";\r\nimport DataTable from \"./DataTable\";\r\nimport { materialsAPI, quizzesAPI, modulesAPI, type Material, type Quiz, type Poin, type MediaItem } from \"@/lib/api\";\r\nimport MaterialPreview from \"../MaterialPreview\";\r\n\r\ntype ResourceType = \"materi\" | \"kuis\";\r\n\r\n// Alias for backward compatibility\r\ntype MaterialRecord = Material;\r\ntype QuizRecord = Quiz;\r\ntype PoinDetailRecord = Poin;\r\ntype MaterialsListResponse = { items?: Material[]; data?: Material[]; pagination?: Material[] };\r\n\r\n// Interface untuk soal sementara (sebelum disimpan ke server)\r\ninterface TempQuestion {\r\n  id: string; // temporary ID\r\n  question_text: string;\r\n  options: string[];\r\n  correct_answer_index: number;\r\n  explanation?: string;\r\n}\r\n\r\nexport interface ModuleItemRow {\r\n  id: string;\r\n  title: string;\r\n  description?: string;\r\n  updated_at?: string;\r\n  published?: boolean;\r\n  contentLength?: number; // materi\r\n  pointsCount?: number; // materi - jumlah poin\r\n  questionCount?: number; // kuis\r\n  content?: string; // materi - untuk preview\r\n  poinDetails?: PoinDetailRecord[]; // materi - detail poin lengkap dengan media\r\n}\r\n\r\ninterface ModuleItemsPageProps {\r\n  moduleId: string;\r\n  resource: ResourceType;\r\n}\r\n\r\nconst STORAGE_PREFIX = \"admin_module_resource_\";\r\n\r\nexport default function ModuleItemsPage({ moduleId, resource }: ModuleItemsPageProps) {\r\n  const title = resource === \"materi\" ? \"Materi\" : \"Kuis\";\r\n  const searchPlaceholder = resource === \"materi\" ? \"Cari materi...\" : \"Cari kuis...\";\r\n  const storageKey = `${STORAGE_PREFIX}${resource}_${moduleId}`;\r\n\r\n  const [rows, setRows] = useState<ModuleItemRow[]>([]);\r\n  const [currentModuleName, setCurrentModuleName] = useState<string>(\"\");\r\n  const [showAdd, setShowAdd] = useState(false);\r\n  const [showEdit, setShowEdit] = useState(false);\r\n  const [editingItem, setEditingItem] = useState<ModuleItemRow | null>(null);\r\n\r\n  // State untuk sub-materi options (khusus kuis)\r\n  interface SubMateriOption {\r\n    id: string | number;\r\n    title: string;\r\n    module_title: string;\r\n    display_title: string;\r\n  }\r\n  const [subMateriOptions, setSubMateriOptions] = useState<SubMateriOption[]>([]);\r\n\r\n  // State untuk quiz questions\r\n  const [questions, setQuestions] = useState<TempQuestion[]>([]);\r\n  const [showQuestionForm, setShowQuestionForm] = useState(false);\r\n  const [editingQuestionId, setEditingQuestionId] = useState<string | null>(null);\r\n  // Add form states\r\n  const [aTitle, setATitle] = useState(\"\");\r\n  const [aPublished, setAPublished] = useState(false);\r\n  const [aSlug, setASlug] = useState(\"\"); // materi optional\r\n  const [aContent, setAContent] = useState(\"\"); // materi\r\n  const [aDescription, setADescription] = useState(\"\"); // kuis\r\n  const [aSubMateriId, setASubMateriId] = useState(\"\"); // kuis sub materi\r\n  const [aTimeLimit, setATimeLimit] = useState<string>(\"30\"); // kuis time limit in minutes\r\n  const [aPassingScore, setAPassingScore] = useState<string>(\"70\"); // kuis passing score\r\n  const [aSubmitting, setASubmitting] = useState(false);\r\n\r\n  // Edit form states (separate from add form)\r\n  const [eTitle, setETitle] = useState(\"\");\r\n  const [ePublished, setEPublished] = useState(false);\r\n  const [eSlug, setESlug] = useState(\"\"); // materi optional\r\n  const [eContent, setEContent] = useState(\"\"); // materi\r\n  const [eDescription, setEDescription] = useState(\"\"); // kuis\r\n  const [eSubMateriId, setESubMateriId] = useState(\"\"); // kuis sub materi\r\n  const [eTimeLimit, setETimeLimit] = useState<string>(\"\"); // kuis time limit in seconds\r\n  const [ePassingScore, setEPassingScore] = useState<string>(\"\"); // kuis passing score\r\n  const [eSubmitting, setESubmitting] = useState(false);\r\n  const [isRefreshing, setIsRefreshing] = useState(false);\r\n\r\n  // Preview modal states\r\n  const [showPreview, setShowPreview] = useState(false);\r\n  const [previewItem, setPreviewItem] = useState<ModuleItemRow | null>(null);\r\n\r\n  // Filter states\r\n  const [statusFilter, setStatusFilter] = useState<'all' | 'published' | 'draft'>('all');\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n\r\n  // Load poin with complete media data (same as MaterialPoinManager)\r\n  const loadPoinWithMedia = async (poinId: string | number) => {\r\n    try {\r\n      const { apiFetch } = await import('@/lib/api/client');\r\n\r\n      const res = await apiFetch<PoinDetailRecord>(`/api/v1/materials/poins/${encodeURIComponent(String(poinId))}`, {\r\n        method: \"GET\"\r\n      });\r\n\r\n      if (res.ok) {\r\n        // Backend now includes media by default, but if not present, get from direct endpoint\r\n        if (!res.data.poin_media || res.data.poin_media.length === 0) {\r\n          try {\r\n            const { apiFetch: apiFetch2 } = await import('@/lib/api/client');\r\n            const mediaRes = await apiFetch2<MediaItem[]>(`/api/v1/materials/poins/${encodeURIComponent(String(poinId))}/media`, {\r\n              method: \"GET\"\r\n            });\r\n\r\n            if (mediaRes.ok && mediaRes.data) {\r\n              res.data.poin_media = mediaRes.data;\r\n            }\r\n          } catch (mediaError) {\r\n            console.warn('Error fetching media:', mediaError);\r\n          }\r\n        }\r\n\r\n        return res.data;\r\n      } else {\r\n        return null;\r\n      }\r\n    } catch (error) {\r\n      console.error('Error in loadPoinWithMedia:', error);\r\n      return null;\r\n    }\r\n  };\r\n\r\n  // Fetch module name if not provided\r\n  useEffect(() => {\r\n    let isCancelled = false;\r\n\r\n    const fetchModuleName = async () => {\r\n      if (!moduleId) return;\r\n\r\n      try {\r\n        const res = await modulesAPI.list();\r\n        if (res.ok && res.data && !isCancelled) {\r\n          // Handle multiple possible response structures\r\n          let modulesList: { id: string | number; title: string }[] = [];\r\n          if (Array.isArray(res.data)) {\r\n            modulesList = res.data;\r\n          } else if (res.data.items && Array.isArray(res.data.items)) {\r\n            modulesList = res.data.items;\r\n          } else if (res.data.data && Array.isArray(res.data.data)) {\r\n            modulesList = res.data.data;\r\n          }\r\n\r\n          // Find the module with matching ID\r\n          const foundModule = modulesList.find((m) => String(m.id) === String(moduleId));\r\n          if (foundModule && foundModule.title && !isCancelled) {\r\n            setCurrentModuleName(foundModule.title);\r\n          }\r\n        }\r\n      } catch (error) {\r\n        if (!isCancelled) {\r\n          console.error('Failed to fetch module name:', error);\r\n        }\r\n      }\r\n    };\r\n\r\n    fetchModuleName();\r\n\r\n    // Cleanup function to prevent setting state if component unmounts\r\n    return () => {\r\n      isCancelled = true;\r\n    };\r\n  }, [moduleId]);  // Helper to format server error from our apiFetch union result\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  const formatServerError = (res: { ok: false; status: number; error: string; raw?: any }) => {\r\n    const j = res.raw && typeof res.raw === 'object' ? (res.raw as Record<string, unknown>) : undefined;\r\n    const code = typeof j?.code === 'string' ? j?.code : undefined;\r\n    const message = (typeof j?.message === 'string' && j?.message) || res.error;\r\n    const details = typeof j?.details === 'string' ? j?.details : undefined;\r\n    const head = code ? `[${code}] ${message}` : message;\r\n    return details ? `${head}\\nDetail: ${details}` : head;\r\n  };\r\n\r\n  // Helper function to refetch materials list\r\n  const refetchMaterialsList = useCallback(async (bypassCache = false) => {\r\n    const params = {\r\n      module_id: moduleId,\r\n      ...(bypassCache && { _t: Date.now() })\r\n    };\r\n\r\n    const res = await materialsAPI.list(params);\r\n\r\n    if (res.ok) {\r\n      const data = res.data as MaterialsListResponse;\r\n\r\n      // Handle multiple possible response structures\r\n      let arr: MaterialRecord[] = [];\r\n      if (Array.isArray(data)) {\r\n        arr = data as MaterialRecord[];\r\n      } else if (Array.isArray(data.items)) {\r\n        arr = data.items;\r\n      } else if (Array.isArray(data.data)) {\r\n        arr = data.data;\r\n      } else if (data && typeof data === 'object' && 'length' in data) {\r\n        arr = Array.from(data as ArrayLike<MaterialRecord>);\r\n      }\r\n\r\n      const mapped: ModuleItemRow[] = await Promise.all(\r\n        arr.map(async (m) => {\r\n          // Fetch poin details for count only (media will be loaded on demand for preview)\r\n          let poinDetails: PoinDetailRecord[] = [];\r\n          try {\r\n            const poinRes = await materialsAPI.get(m.id);\r\n            if (poinRes.ok && poinRes.data.poin_details) {\r\n              poinDetails = poinRes.data.poin_details;\r\n            }\r\n          } catch (error) {\r\n            console.warn(`Failed to fetch poins for material ${m.id}:`, error);\r\n          }\r\n\r\n          return {\r\n            id: String(m.id),\r\n            title: m.title,\r\n            description: undefined, // Remove content description from table\r\n            updated_at: m.updated_at || m.created_at,\r\n            published: !!m.published,\r\n            contentLength: typeof m.content === 'string' ? m.content.length : 0,\r\n            pointsCount: poinDetails.length,\r\n            content: typeof m.content === 'string' ? m.content : undefined,\r\n            poinDetails: poinDetails,\r\n          };\r\n        })\r\n      ); setRows(mapped);\r\n      try { localStorage.setItem(storageKey, JSON.stringify(mapped)); } catch { }\r\n      return true;\r\n    } else {\r\n      console.error('Failed to refetch materials:', res.error);\r\n      return false;\r\n    }\r\n  }, [moduleId, storageKey]);\r\n\r\n  // Helper function to refetch quiz list\r\n  const refetchQuizList = useCallback(async (bypassCache = false) => {\r\n    // Call quiz API directly according to backend API documentation\r\n    const quizRes = await quizzesAPI.list({\r\n      // Add cache busting if needed (API doesn't need this param but TypeScript requires valid params)\r\n      ...(bypassCache && { limit: 1000 })\r\n    });\r\n\r\n    if (!quizRes.ok) {\r\n      console.error('Failed to get quiz list:', quizRes.error);\r\n      setRows([]);\r\n      return false;\r\n    }\r\n\r\n    // Parse quiz response according to backend API documentation\r\n    const responseData = quizRes.data;\r\n    let allQuizzes: QuizRecord[] = [];\r\n\r\n    // According to API documentation, response should be:\r\n    // { \"success\": true, \"data\": { \"quizzes\": [...], \"pagination\": {...} } }\r\n    const dataWithQuizzes = responseData as unknown as { quizzes?: QuizRecord[]; items?: QuizRecord[];[key: string]: unknown };\r\n\r\n    if (dataWithQuizzes.quizzes && Array.isArray(dataWithQuizzes.quizzes)) {\r\n      // Backend API format: { data: { quizzes: [...] } }\r\n      allQuizzes = dataWithQuizzes.quizzes;\r\n    } else if (dataWithQuizzes.items && Array.isArray(dataWithQuizzes.items)) {\r\n      // Fallback format: { items: [...] }\r\n      allQuizzes = dataWithQuizzes.items;\r\n    } else if (Array.isArray(responseData)) {\r\n      // Direct array format\r\n      allQuizzes = responseData;\r\n    } else {\r\n      console.error('Unexpected API response structure:', Object.keys(dataWithQuizzes));\r\n      setRows([]);\r\n      return false;\r\n    }\r\n\r\n    // Filter quizzes by module - get materials in this module first\r\n    const materialsRes = await materialsAPI.list({\r\n      module_id: moduleId,\r\n      limit: 100,\r\n      ...(bypassCache && { _t: Date.now() })\r\n    });\r\n\r\n    let materialIds: Set<string | number> = new Set();\r\n\r\n    if (materialsRes.ok && materialsRes.data.items) {\r\n      const materials = materialsRes.data.items;\r\n      materialIds = new Set(materials.map(m => String(m.id)));\r\n    } else {\r\n      console.warn('Could not get materials for module filtering');\r\n      // If we can't get materials, include all quizzes (fallback)\r\n    }\r\n\r\n    // Filter quizzes that belong to materials in this module\r\n    const moduleQuizzes = allQuizzes.filter(quiz => {\r\n      return materialIds.size === 0 || materialIds.has(String(quiz.sub_materi_id));\r\n    });\r\n\r\n    // Map quiz data to UI rows - fetch question count for each quiz\r\n    const mapped: ModuleItemRow[] = await Promise.all(\r\n      moduleQuizzes.map(async (quiz) => {\r\n        let questionCount = 0;\r\n\r\n        // Get question count - check if already included in response\r\n        if (quiz.questions && Array.isArray(quiz.questions)) {\r\n          questionCount = quiz.questions.length;\r\n        } else {\r\n          // Fetch quiz details to get question count\r\n          try {\r\n            const detailRes = await quizzesAPI.get(quiz.id);\r\n            if (detailRes.ok && detailRes.data.questions) {\r\n              questionCount = detailRes.data.questions.length;\r\n            }\r\n          } catch (error) {\r\n            console.warn(`Failed to fetch question count for quiz ${quiz.id}:`, error);\r\n          }\r\n        }\r\n\r\n        // Handle published field mapping - Backend uses 'is_active' instead of 'published'\r\n        let publishedStatus = false;\r\n\r\n        if (quiz.published !== undefined) {\r\n          // Preferred field name per API documentation\r\n          publishedStatus = quiz.published;\r\n        } else {\r\n          // Backend actually uses 'is_active' field - map it to published\r\n          const quizWithExtraFields = quiz as unknown as { is_active?: boolean };\r\n          if (quizWithExtraFields.is_active !== undefined) {\r\n            publishedStatus = quizWithExtraFields.is_active;\r\n          }\r\n        }\r\n\r\n        return {\r\n          id: String(quiz.id),\r\n          title: quiz.title,\r\n          description: quiz.description?.slice(0, 140),\r\n          updated_at: quiz.updated_at || quiz.created_at,\r\n          published: publishedStatus,\r\n          questionCount: questionCount,\r\n        };\r\n      })\r\n    );\r\n\r\n    setRows(mapped);\r\n\r\n    // Clear local storage cache if bypassCache is true\r\n    if (bypassCache) {\r\n      try { localStorage.removeItem(storageKey); } catch { }\r\n    }\r\n\r\n    try { localStorage.setItem(storageKey, JSON.stringify(mapped)); } catch { }\r\n    return true;\r\n  }, [moduleId, storageKey]);\r\n\r\n  // Load sub-materi options for quiz dropdown - get materials from current module\r\n  useEffect(() => {\r\n    if (resource === \"kuis\") {\r\n      const loadSubMateriOptions = async () => {\r\n        try {\r\n          // Get materials from the current module to use as sub-materi options\r\n          const res = await materialsAPI.list({\r\n            module_id: moduleId,\r\n            limit: 100 // Get all materials in module\r\n          });\r\n\r\n          if (res.ok && res.data.items) {\r\n            // Transform material data to match SubMateriOption interface\r\n            const options = res.data.items.map((material: MaterialRecord) => ({\r\n              id: material.id,\r\n              title: material.title,\r\n              module_title: currentModuleName || `Module ${moduleId}`,\r\n              display_title: `${currentModuleName || `Module ${moduleId}`} - ${material.title}`\r\n            }));\r\n            setSubMateriOptions(options);\r\n          } else {\r\n            console.warn('Failed to load materials for module:', res);\r\n            setSubMateriOptions([]);\r\n          }\r\n        } catch (error) {\r\n          console.error('Failed to load sub-materi options:', error);\r\n          setSubMateriOptions([]); // Set empty array on error\r\n        }\r\n      };\r\n      loadSubMateriOptions();\r\n    }\r\n  }, [resource, moduleId, currentModuleName]);\r\n\r\n  // Load data from backend for both materi and kuis\r\n  useEffect(() => {\r\n    const load = async () => {\r\n      try {\r\n        if (resource === \"materi\") {\r\n          // Get materials list first (without poin details to avoid backend dependency)\r\n          const res = await materialsAPI.list({\r\n            module_id: moduleId\r\n          });\r\n\r\n          if (res.ok) {\r\n            const data = res.data as MaterialsListResponse;\r\n\r\n            // Handle multiple possible response structures\r\n            let arr: MaterialRecord[] = [];\r\n            if (Array.isArray(data)) {\r\n              arr = data as MaterialRecord[];\r\n            } else if (Array.isArray(data.items)) {\r\n              arr = data.items;\r\n            } else if (Array.isArray(data.data)) {\r\n              arr = data.data;\r\n            } else if (data && typeof data === 'object' && 'length' in data) {\r\n              arr = Array.from(data as ArrayLike<MaterialRecord>);\r\n            }\r\n\r\n            // Fetch poin details for each material (without media for faster initial load)\r\n            const mapped: ModuleItemRow[] = await Promise.all(\r\n              arr.map(async (m) => {\r\n                // Only fetch poin details for count, don't load media yet for faster initial load\r\n                let poinDetails: PoinDetailRecord[] = [];\r\n                try {\r\n                  const poinRes = await materialsAPI.get(m.id);\r\n                  if (poinRes.ok && poinRes.data.poin_details) {\r\n                    poinDetails = poinRes.data.poin_details;\r\n                  }\r\n                } catch (error) {\r\n                  console.warn(`Failed to fetch poins for material ${m.id}:`, error);\r\n                }\r\n\r\n                return {\r\n                  id: String(m.id),\r\n                  title: m.title,\r\n                  description: undefined, // Remove content description from table\r\n                  updated_at: m.updated_at || m.created_at,\r\n                  published: !!m.published,\r\n                  contentLength: typeof m.content === 'string' ? m.content.length : 0,\r\n                  pointsCount: poinDetails.length,\r\n                  content: typeof m.content === 'string' ? m.content : undefined,\r\n                  poinDetails: poinDetails,\r\n                };\r\n              })\r\n            );\r\n\r\n            setRows(mapped);\r\n            try { localStorage.setItem(storageKey, JSON.stringify(mapped)); } catch { }\r\n            return;\r\n          } else {\r\n            console.error('Failed to load materials:', res.error);\r\n            // Show user-friendly error message\r\n            await Swal.fire({\r\n              icon: 'error',\r\n              title: 'Gagal Memuat Materi',\r\n              text: `Tidak dapat memuat materi: ${res.error || 'Terjadi kesalahan pada server'}`,\r\n              footer: 'Silakan coba refresh halaman atau hubungi administrator jika masalah berlanjut'\r\n            });\r\n          }\r\n        } else if (resource === \"kuis\") {\r\n          // Use the same logic as refetchQuizList to ensure consistency\r\n          const result = await refetchQuizList(false);\r\n          if (result) {\r\n            return; // Data already set by refetchQuizList\r\n          } else {\r\n            await Swal.fire({\r\n              icon: 'error',\r\n              title: 'Gagal Memuat Kuis',\r\n              text: 'Tidak dapat memuat kuis untuk modul ini',\r\n              footer: 'Silakan coba refresh halaman atau hubungi administrator jika masalah berlanjut'\r\n            });\r\n          }\r\n        }\r\n\r\n        // Fallback to local storage\r\n        try {\r\n          const raw = localStorage.getItem(storageKey);\r\n          if (raw) {\r\n            setRows(JSON.parse(raw));\r\n            return;\r\n          }\r\n        } catch { }\r\n\r\n        // If no data available, set empty\r\n        setRows([]);\r\n      } catch (error) {\r\n        console.error(`Error loading ${resource} data:`, error);\r\n        await Swal.fire({\r\n          icon: 'error',\r\n          title: 'Kesalahan Sistem',\r\n          text: `Terjadi kesalahan saat memuat ${resource}: ${error instanceof Error ? error.message : 'Kesalahan tidak diketahui'}`,\r\n          footer: 'Silakan refresh halaman atau hubungi administrator'\r\n        });\r\n        setRows([]); // Set empty array as fallback\r\n      }\r\n    };\r\n    load();\r\n  }, [moduleId, resource, storageKey, refetchQuizList]);\r\n\r\n  // Persist to localStorage on change\r\n  useEffect(() => {\r\n    try {\r\n      localStorage.setItem(storageKey, JSON.stringify(rows));\r\n    } catch {\r\n      // ignore\r\n    }\r\n  }, [rows, storageKey]);\r\n\r\n  // Filter data based on status and search term\r\n  const filteredRows = useMemo(() => {\r\n    let filtered = rows;\r\n\r\n    // Apply status filter\r\n    if (statusFilter === 'published') {\r\n      filtered = filtered.filter(row => row.published === true);\r\n    } else if (statusFilter === 'draft') {\r\n      filtered = filtered.filter(row => row.published !== true);\r\n    }\r\n\r\n    // Apply search filter\r\n    if (searchTerm.trim()) {\r\n      const term = searchTerm.toLowerCase().trim();\r\n      filtered = filtered.filter(row =>\r\n        row.title.toLowerCase().includes(term) ||\r\n        (row.description && row.description.toLowerCase().includes(term))\r\n      );\r\n    }\r\n\r\n    return filtered;\r\n  }, [rows, statusFilter, searchTerm]);\r\n\r\n\r\n\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  type ColumnDef = { key: string; label: string; render?: (value: any, row: ModuleItemRow) => React.ReactNode };\r\n  const columns: ColumnDef[] = useMemo(() => {\r\n    return [\r\n      {\r\n        key: \"title\",\r\n        label: title,\r\n        render: (_: unknown, row: ModuleItemRow) => (\r\n          <div>\r\n            {resource === \"kuis\" ? (\r\n              <p className=\"font-semibold text-xl\">\r\n                {row.title}\r\n              </p>\r\n            ) : (\r\n              <div className=\"font-medium text-gray-900\">\r\n                {row.title}\r\n              </div>\r\n            )}\r\n            {row.description && (\r\n              <div className=\"text-sm text-gray-500 truncate max-w-[360px]\">{row.description}</div>\r\n            )}\r\n          </div>\r\n        )\r\n      },\r\n      {\r\n        key: resource === \"materi\" ? \"pointsCount\" : \"questionCount\",\r\n        label: resource === \"materi\" ? \"Jumlah Poin Materi\" : \"Jumlah Soal\",\r\n        render: (val: number | undefined) => (\r\n          <span className=\"text-sm text-gray-700\">{val ?? 0} {resource === \"materi\" ? \"poin materi\" : \"soal\"}</span>\r\n        )\r\n      },\r\n      {\r\n        key: \"published\",\r\n        label: \"Status\",\r\n        render: (v: boolean | undefined) => (\r\n          <span className={`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${v ? \"bg-green-100 text-green-700\" : \"bg-gray-200 text-gray-700\"}`}>\r\n            {v ? \"Terbit\" : \"Draf\"}\r\n          </span>\r\n        )\r\n      },\r\n      {\r\n        key: \"updated_at\",\r\n        label: \"Diubah\",\r\n        render: (val?: string) => (\r\n          <span className=\"text-sm text-gray-700\">{val ? new Date(val).toLocaleString(\"id-ID\") : \"-\"}</span>\r\n        )\r\n      }\r\n    ];\r\n  }, [resource, title]);\r\n\r\n  const onAdd = () => setShowAdd((v) => !v);\r\n\r\n  // Function to handle \"Tambah Poin\" action for materi and \"Tambah Soal\" for kuis\r\n  const onTambahPoin = (row: ModuleItemRow) => {\r\n    if (resource === \"materi\") {\r\n      if (!row.id) {\r\n        console.error('Row ID is missing:', row);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: 'ID materi tidak ditemukan. Silakan refresh halaman dan coba lagi.'\r\n        });\r\n        return;\r\n      }\r\n      // Use nested structure: /admin/modul/[id]/materi/[materialId]/poin\r\n      window.location.href = `/admin/modul/${moduleId}/materi/${row.id}/poin`;\r\n    } else if (resource === \"kuis\") {\r\n      if (!row.id) {\r\n        console.error('Row ID is missing:', row);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: 'ID kuis tidak ditemukan. Silakan refresh halaman dan coba lagi.'\r\n        });\r\n        return;\r\n      }\r\n      // Use nested structure: /admin/modul/[id]/kuis/[kuisId]/soal\r\n      window.location.href = `/admin/modul/${moduleId}/kuis/${row.id}/soal`;\r\n    }\r\n  };\r\n\r\n  // Function to handle \"Preview\" action for materi\r\n  const onPreview = async (row: ModuleItemRow) => {\r\n    if (resource === \"materi\") {\r\n      // Check if we already have poin details with media in the row\r\n      if (row.poinDetails && row.poinDetails.length > 0) {\r\n        // Check if any poin has media data already loaded\r\n        const hasMediaLoaded = row.poinDetails.some(poin => poin.poin_media && poin.poin_media.length > 0);\r\n\r\n        if (hasMediaLoaded) {\r\n          setPreviewItem(row);\r\n          setShowPreview(true);\r\n          return;\r\n        }\r\n      }\r\n\r\n      // Only fetch if we don't have complete data\r\n      try {\r\n        const poinRes = await materialsAPI.get(row.id);\r\n        if (poinRes.ok && poinRes.data.poin_details) {\r\n          // Only load media for poins that don't have it yet\r\n          const poinsWithMedia = await Promise.all(\r\n            poinRes.data.poin_details.map(async (poin) => {\r\n              // Check if this poin already has media\r\n              if (poin.poin_media && poin.poin_media.length > 0) {\r\n                return poin;\r\n              }\r\n\r\n              const poinWithMedia = await loadPoinWithMedia(poin.id);\r\n              if (poinWithMedia) {\r\n                return poinWithMedia;\r\n              }\r\n              return poin;\r\n            })\r\n          );\r\n\r\n          const updatedRow = {\r\n            ...row,\r\n            poinDetails: poinsWithMedia\r\n          };\r\n          setPreviewItem(updatedRow);\r\n          setShowPreview(true);\r\n        } else {\r\n          // Show preview even if no poin details\r\n          setPreviewItem(row);\r\n          setShowPreview(true);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error loading preview data:', error);\r\n        // Fallback to current data\r\n        setPreviewItem(row);\r\n        setShowPreview(true);\r\n      }\r\n    }\r\n  };\r\n\r\n  // Helper functions untuk quiz questions\r\n  const resetQuizForm = () => {\r\n    setATitle(\"\");\r\n    setADescription(\"\");\r\n    setASubMateriId(\"\");\r\n    setATimeLimit(\"30\");\r\n    setAPassingScore(\"70\");\r\n    setAPublished(false);\r\n    setQuestions([]);\r\n    setShowQuestionForm(false);\r\n    setEditingQuestionId(null);\r\n  };\r\n\r\n  const addNewQuestion = () => {\r\n    const newQuestion: TempQuestion = {\r\n      id: `temp_${Date.now()}`,\r\n      question_text: \"\",\r\n      options: [\"\", \"\", \"\", \"\"],\r\n      correct_answer_index: 0,\r\n      explanation: \"\"\r\n    };\r\n    setQuestions([...questions, newQuestion]);\r\n    setShowQuestionForm(true);\r\n    setEditingQuestionId(newQuestion.id);\r\n  };\r\n\r\n  const updateQuestion = (questionId: string, updates: Partial<TempQuestion>) => {\r\n    setQuestions(questions.map(q =>\r\n      q.id === questionId ? { ...q, ...updates } : q\r\n    ));\r\n  };\r\n\r\n  const deleteQuestion = async (questionId: string) => {\r\n    const result = await Swal.fire({\r\n      title: 'Hapus Soal?',\r\n      text: 'Soal ini akan dihapus dari daftar.',\r\n      icon: 'warning',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Hapus',\r\n      cancelButtonText: 'Batal'\r\n    });\r\n\r\n    if (result.isConfirmed) {\r\n      setQuestions(questions.filter(q => q.id !== questionId));\r\n      if (editingQuestionId === questionId) {\r\n        setEditingQuestionId(null);\r\n        setShowQuestionForm(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  const editQuestion = (questionId: string) => {\r\n    setEditingQuestionId(questionId);\r\n    setShowQuestionForm(true);\r\n  };\r\n\r\n  const onManualRefresh = useCallback(async () => {\r\n    setIsRefreshing(true);\r\n    try {\r\n      if (resource === 'materi') {\r\n        await refetchMaterialsList(true);\r\n      } else {\r\n        await refetchQuizList(true);\r\n      }\r\n      await Swal.fire({\r\n        icon: 'success',\r\n        title: 'Data diperbarui',\r\n        timer: 1000,\r\n        showConfirmButton: false\r\n      });\r\n    } catch (error) {\r\n      console.error('Manual refresh failed:', error);\r\n      await Swal.fire({\r\n        icon: 'error',\r\n        title: 'Gagal memperbarui',\r\n        text: 'Terjadi kesalahan saat memperbarui data'\r\n      });\r\n    } finally {\r\n      setIsRefreshing(false);\r\n    }\r\n  }, [resource, refetchMaterialsList, refetchQuizList]);\r\n\r\n\r\n\r\n  const submitAdd = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    const titleVal = aTitle.trim();\r\n    if (!titleVal || titleVal.length < 3) {\r\n      await Swal.fire({ icon: 'warning', title: 'Judul minimal 3 karakter' });\r\n      return;\r\n    }\r\n\r\n    if (resource === 'materi') {\r\n      const contentVal = aContent.trim();\r\n      if (!contentVal || contentVal.length < 10) {\r\n        await Swal.fire({ icon: 'warning', title: 'Konten minimal 10 karakter' });\r\n        return;\r\n      }\r\n      setASubmitting(true);\r\n\r\n      const res = await materialsAPI.create({\r\n        title: titleVal,\r\n        content: contentVal,\r\n        module_id: String(moduleId),\r\n        published: aPublished,\r\n        slug: aSlug ? aSlug.trim() : undefined,\r\n      });\r\n\r\n      setASubmitting(false);\r\n\r\n      if (!res.ok) {\r\n        await Swal.fire({ icon: 'error', title: 'Gagal', text: formatServerError(res as unknown as { ok: false; status: number; error: string; raw?: unknown }) || 'Gagal membuat materi' });\r\n        return;\r\n      }\r\n\r\n      // Force refetch all materials to ensure UI shows complete list\r\n      await refetchMaterialsList();\r\n\r\n      await Swal.fire({ icon: 'success', title: 'Berhasil', timer: 900, showConfirmButton: false });\r\n      // reset & close\r\n      setATitle(\"\"); setAContent(\"\"); setASlug(\"\"); setAPublished(false); setShowAdd(false);\r\n      return;\r\n    }\r\n\r\n    // Kuis: create via backend API\r\n    if (resource === 'kuis') {\r\n      if (!aSubMateriId) {\r\n        await Swal.fire({\r\n          icon: 'warning',\r\n          title: 'Peringatan',\r\n          text: 'Sub materi harus dipilih'\r\n        });\r\n        return;\r\n      }\r\n\r\n      // Validasi soal jika ada\r\n      if (questions.length > 0) {\r\n        for (let i = 0; i < questions.length; i++) {\r\n          const q = questions[i];\r\n          if (!q.question_text.trim()) {\r\n            await Swal.fire({\r\n              icon: 'warning',\r\n              title: 'Peringatan',\r\n              text: `Soal ${i + 1}: Pertanyaan harus diisi`\r\n            });\r\n            return;\r\n          }\r\n          const validOptions = q.options.filter(opt => opt.trim());\r\n          if (validOptions.length < 2) {\r\n            await Swal.fire({\r\n              icon: 'warning',\r\n              title: 'Peringatan',\r\n              text: `Soal ${i + 1}: Minimal harus ada 2 opsi jawaban`\r\n            });\r\n            return;\r\n          }\r\n        }\r\n      }\r\n\r\n      const timeLimitSeconds = parseInt(aTimeLimit) * 60; // convert minutes to seconds\r\n      const passingScoreNum = parseInt(aPassingScore);\r\n\r\n      if (passingScoreNum < 0 || passingScoreNum > 100) {\r\n        await Swal.fire({\r\n          icon: 'warning',\r\n          title: 'Peringatan',\r\n          text: 'Nilai kelulusan harus antara 0-100'\r\n        });\r\n        return;\r\n      }\r\n\r\n      setASubmitting(true);\r\n      try {\r\n        // 1. Buat kuis terlebih dahulu\r\n        const payload = {\r\n          sub_materi_id: aSubMateriId,\r\n          title: titleVal,\r\n          description: aDescription || undefined,\r\n          time_limit_seconds: timeLimitSeconds,\r\n          passing_score: passingScoreNum,\r\n          published: aPublished\r\n        };\r\n\r\n        const res = await quizzesAPI.create(payload);\r\n\r\n        if (!res.ok) {\r\n          await Swal.fire({\r\n            icon: 'error',\r\n            title: 'Gagal',\r\n            text: formatServerError(res as unknown as { ok: false; status: number; error: string; raw?: unknown }) || 'Gagal membuat kuis'\r\n          });\r\n          return;\r\n        }\r\n\r\n        // 2. Tambahkan soal-soal jika ada\r\n        if (questions.length > 0) {\r\n          for (let i = 0; i < questions.length; i++) {\r\n            const q = questions[i];\r\n            const validOptions = q.options.filter(opt => opt.trim());\r\n\r\n            await quizzesAPI.addQuestion(res.data.id, {\r\n              question_text: q.question_text.trim(),\r\n              options: validOptions,\r\n              correct_answer_index: Math.min(q.correct_answer_index, validOptions.length - 1),\r\n              explanation: q.explanation?.trim() || undefined,\r\n              order_index: i + 1\r\n            });\r\n          }\r\n        }\r\n\r\n        // 3. Reset form dan refresh data\r\n        resetQuizForm();\r\n        setShowAdd(false);\r\n        await refetchQuizList();\r\n\r\n        const message = questions.length > 0\r\n          ? `Kuis berhasil dibuat dengan ${questions.length} soal`\r\n          : 'Kuis berhasil dibuat';\r\n\r\n        await Swal.fire({\r\n          icon: 'success',\r\n          title: 'Berhasil',\r\n          text: message,\r\n          timer: 2000,\r\n          showConfirmButton: false\r\n        });\r\n\r\n      } catch (error) {\r\n        console.error('Error creating quiz:', error);\r\n        await Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: 'Terjadi kesalahan saat membuat kuis'\r\n        });\r\n      } finally {\r\n        setASubmitting(false);\r\n      }\r\n      return;\r\n    }\r\n  };\r\n\r\n  const onEdit = async (row: ModuleItemRow) => {\r\n    setEditingItem(row);\r\n    // Populate edit form dengan data existing (menggunakan state edit terpisah)\r\n    setETitle(row.title);\r\n    setEPublished(row.published || false);\r\n    if (resource === 'materi') {\r\n      setEContent(row.content || '');\r\n      setESlug(''); // slug tidak disimpan di row, biarkan kosong\r\n    } else {\r\n      setEDescription(row.description || '');\r\n      setETimeLimit('');\r\n      setEPassingScore('');\r\n      setESubMateriId('');\r\n\r\n      // Fetch quiz details to get current sub_materi_id, time_limit, and passing_score\r\n      try {\r\n        const quizDetailsRes = await quizzesAPI.get(row.id);\r\n        if (quizDetailsRes.ok) {\r\n          const quiz = quizDetailsRes.data;\r\n          setESubMateriId(String(quiz.sub_materi_id || ''));\r\n          setETimeLimit(String(quiz.time_limit_seconds ? Math.floor(quiz.time_limit_seconds / 60) : '')); // convert seconds to minutes\r\n          setEPassingScore(String(quiz.passing_score || ''));\r\n        }\r\n      } catch (error) {\r\n        console.warn('Failed to fetch quiz details for editing:', error);\r\n      }\r\n    }\r\n    setShowEdit(true);\r\n  };\r\n\r\n  const submitEdit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!editingItem) return;\r\n\r\n    const titleVal = eTitle.trim();\r\n    if (!titleVal || titleVal.length < 3) {\r\n      await Swal.fire({ icon: 'warning', title: 'Judul minimal 3 karakter' });\r\n      return;\r\n    }\r\n\r\n    if (resource === 'materi') {\r\n      const contentVal = eContent.trim();\r\n      if (!contentVal || contentVal.length < 10) {\r\n        await Swal.fire({ icon: 'warning', title: 'Konten minimal 10 karakter' });\r\n        return;\r\n      }\r\n\r\n      setESubmitting(true);\r\n      const payload = {\r\n        title: titleVal,\r\n        content: contentVal,\r\n        published: ePublished,\r\n        slug: eSlug ? eSlug.trim() : undefined,\r\n      };\r\n\r\n      const res = await materialsAPI.update(editingItem.id, payload);\r\n      setESubmitting(false);\r\n\r\n      if (!res.ok) {\r\n        await Swal.fire({ icon: 'error', title: 'Gagal', text: formatServerError(res as unknown as { ok: false; status: number; error: string; raw?: unknown }) || 'Gagal memperbarui materi' });\r\n        return;\r\n      }\r\n\r\n      // Force refetch to ensure UI is up to date\r\n      await refetchMaterialsList();\r\n      await Swal.fire({ icon: 'success', title: 'Tersimpan', timer: 900, showConfirmButton: false });\r\n\r\n      // Reset edit form and close\r\n      setETitle(''); setEContent(''); setESlug(''); setEPublished(false);\r\n      setShowEdit(false); setEditingItem(null);\r\n      return;\r\n    }\r\n\r\n    // Kuis: validate required fields\r\n    if (!eSubMateriId) {\r\n      await Swal.fire({\r\n        icon: 'warning',\r\n        title: 'Peringatan',\r\n        text: 'Sub materi harus dipilih'\r\n      });\r\n      return;\r\n    }\r\n\r\n    const timeLimitMinutes = parseInt(eTimeLimit);\r\n    const passingScoreNum = parseInt(ePassingScore);\r\n\r\n    if (eTimeLimit && (isNaN(timeLimitMinutes) || timeLimitMinutes < 1)) {\r\n      await Swal.fire({\r\n        icon: 'warning',\r\n        title: 'Peringatan',\r\n        text: 'Batas waktu harus berupa angka positif (dalam menit)'\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (ePassingScore && (isNaN(passingScoreNum) || passingScoreNum < 0 || passingScoreNum > 100)) {\r\n      await Swal.fire({\r\n        icon: 'warning',\r\n        title: 'Peringatan',\r\n        text: 'Nilai kelulusan harus antara 0-100'\r\n      });\r\n      return;\r\n    }\r\n\r\n    // Kuis: update via backend API\r\n    setESubmitting(true);\r\n    const payload = {\r\n      sub_materi_id: eSubMateriId,\r\n      title: titleVal,\r\n      description: eDescription || undefined,\r\n      time_limit_seconds: eTimeLimit ? timeLimitMinutes * 60 : undefined, // convert minutes to seconds\r\n      passing_score: ePassingScore ? passingScoreNum : undefined,\r\n      published: ePublished,\r\n    };\r\n\r\n    const res = await quizzesAPI.update(editingItem.id, payload);\r\n    setESubmitting(false);\r\n\r\n    if (!res.ok) {\r\n      await Swal.fire({ icon: 'error', title: 'Gagal', text: formatServerError(res as unknown as { ok: false; status: number; error: string; raw?: unknown }) || 'Gagal memperbarui kuis' });\r\n      return;\r\n    }\r\n\r\n    // Small delay to ensure database commit is complete\r\n    await new Promise(resolve => setTimeout(resolve, 100));\r\n\r\n    // Force refetch to ensure UI is up to date with fresh data\r\n    await refetchQuizList(true); // bypassCache=true untuk memastikan data terbaru\r\n    await Swal.fire({ icon: 'success', title: 'Tersimpan', timer: 900, showConfirmButton: false });\r\n\r\n    // Reset edit form and close\r\n    setETitle(''); setEDescription(''); setESubMateriId(''); setETimeLimit(''); setEPassingScore(''); setEPublished(false);\r\n    setShowEdit(false); setEditingItem(null);\r\n  };\r\n\r\n  const onDelete = async (row: ModuleItemRow) => {\r\n    const result = await Swal.fire({\r\n      title: `Hapus ${title}?`,\r\n      text: `Item \\\"${row.title}\\\" akan dihapus.`,\r\n      icon: 'warning',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Hapus',\r\n      cancelButtonText: 'Batal',\r\n      reverseButtons: true\r\n    });\r\n    if (!result.isConfirmed) return;\r\n\r\n    if (resource === 'materi') {\r\n      const res = await materialsAPI.remove(row.id);\r\n      if (!res.ok) {\r\n        await Swal.fire({ icon: 'error', title: 'Gagal', text: formatServerError(res as unknown as { ok: false; status: number; error: string; raw?: unknown }) || 'Gagal menghapus materi' });\r\n        return;\r\n      }\r\n      // Force refetch to ensure UI is accurate\r\n      await refetchMaterialsList();\r\n      // Show success message\r\n      await Swal.fire({\r\n        icon: 'success',\r\n        title: 'Berhasil Dihapus',\r\n        text: `Materi \"${row.title}\" berhasil dihapus.`,\r\n        timer: 2000,\r\n        showConfirmButton: false\r\n      });\r\n    } else if (resource === 'kuis') {\r\n      const res = await quizzesAPI.remove(row.id);\r\n      if (!res.ok) {\r\n        await Swal.fire({ icon: 'error', title: 'Gagal', text: formatServerError(res as unknown as { ok: false; status: number; error: string; raw?: unknown }) || 'Gagal menghapus kuis' });\r\n        return;\r\n      }\r\n      // Force refetch to ensure UI is accurate\r\n      await refetchQuizList();\r\n      // Show success message\r\n      await Swal.fire({\r\n        icon: 'success',\r\n        title: 'Berhasil Dihapus',\r\n        text: `Kuis \"${row.title}\" berhasil dihapus.`,\r\n        timer: 2000,\r\n        showConfirmButton: false\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6 bg-gray-50 min-h-screen text-black\">\r\n      {/* Add form section */}\r\n      {showAdd && (\r\n        <form onSubmit={submitAdd} className=\"bg-white rounded-xl p-5 shadow-sm border border-gray-200 mb-6\">\r\n          <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Tambah {title} Baru</h2>\r\n          {resource === 'materi' ? (\r\n            <div className=\"grid grid-cols-1 gap-4\">\r\n              <div>\r\n                <label className=\"text-sm text-gray-600\">Judul *</label>\r\n                <input value={aTitle} onChange={(e) => setATitle(e.target.value)} className=\"w-full px-3 py-2 border text-black border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" placeholder=\"Judul minimal 3 karakter\" required minLength={3} />\r\n              </div>\r\n              <div>\r\n                <label className=\"text-sm text-gray-600\">Konten *</label>\r\n                <textarea value={aContent} onChange={(e) => setAContent(e.target.value)} className=\"w-full px-3 py-2 border text-black border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 min-h-32\" placeholder=\"Konten minimal 10 karakter\" required />\r\n              </div>\r\n              <div className=\"flex items-center gap-2\">\r\n                <input id=\"a-published\" type=\"checkbox\" checked={aPublished} onChange={(e) => setAPublished(e.target.checked)} className=\"w-4 h-4\" />\r\n                <label htmlFor=\"a-published\" className=\"text-sm text-gray-700\">\r\n                  Terbitkan\r\n                </label>\r\n              </div>\r\n              <div>\r\n                <button type=\"submit\" disabled={aSubmitting} className=\"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white shadow disabled:opacity-60\">\r\n                  {aSubmitting ? 'Menyimpan...' : 'Simpan'}\r\n                </button>\r\n                <button type=\"button\" onClick={() => setShowAdd(false)} className=\"ml-2 inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-gray-100 hover:bg-gray-200 text-gray-700 shadow\">\r\n                  Batal\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-6\">\r\n              {/* Basic Quiz Info */}\r\n              <div className=\"grid grid-cols-1 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Judul Kuis *</label>\r\n                  <input\r\n                    value={aTitle}\r\n                    onChange={(e) => setATitle(e.target.value)}\r\n                    className=\"w-full px-3 py-2 border text-black border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                    placeholder=\"Masukkan judul kuis\"\r\n                    required\r\n                    minLength={3}\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Deskripsi</label>\r\n                  <textarea\r\n                    value={aDescription}\r\n                    onChange={(e) => setADescription(e.target.value)}\r\n                    className=\"w-full px-3 py-2 border text-black border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 resize-none\"\r\n                    placeholder=\"Deskripsi singkat kuis (opsional)\"\r\n                    rows={2}\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Sub Materi *</label>\r\n                  <select\r\n                    value={aSubMateriId}\r\n                    onChange={(e) => setASubMateriId(e.target.value)}\r\n                    className=\"w-full px-3 py-2 border text-black border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                    required\r\n                  >\r\n                    <option value=\"\">Pilih Sub Materi</option>\r\n                    {(Array.isArray(subMateriOptions) ? subMateriOptions : []).map((option) => (\r\n                      <option key={option.id} value={option.id}>\r\n                        {option.title}\r\n                      </option>\r\n                    ))}\r\n                    {subMateriOptions.length === 0 && (\r\n                      <option value=\"\" disabled>\r\n                        Tidak ada materi tersedia\r\n                      </option>\r\n                    )}\r\n                  </select>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Batas Waktu (menit)</label>\r\n                    <input\r\n                      type=\"number\"\r\n                      min={1}\r\n                      value={aTimeLimit}\r\n                      onChange={(e) => setATimeLimit(e.target.value)}\r\n                      className=\"w-full px-3 py-2 border text-black border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                      placeholder=\"30\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Nilai Kelulusan (%)</label>\r\n                    <input\r\n                      type=\"number\"\r\n                      min={0}\r\n                      max={100}\r\n                      value={aPassingScore}\r\n                      onChange={(e) => setAPassingScore(e.target.value)}\r\n                      className=\"w-full px-3 py-2 border text-black border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                      placeholder=\"70\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"flex items-center gap-2\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={aPublished}\r\n                      onChange={(e) => setAPublished(e.target.checked)}\r\n                      className=\"w-4 h-4 text-blue-600 rounded\"\r\n                    />\r\n                    <span className=\"text-sm font-medium text-gray-700\">Publikasikan kuis</span>\r\n                  </label>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Questions Section */}\r\n              <div className=\"mt-8\">\r\n                <div className=\"flex items-center justify-between mb-4\">\r\n                  <h3 className=\"text-md font-semibold text-gray-900\">Soal Kuis ({questions.length})</h3>\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={addNewQuestion}\r\n                    className=\"inline-flex items-center gap-2 px-3 py-1.5 bg-green-600 hover:bg-green-700 text-white text-sm rounded-lg transition-colors\"\r\n                  >\r\n                    <Plus className=\"w-4 h-4\" />\r\n                    Tambah Soal\r\n                  </button>\r\n                </div>\r\n\r\n                {/* Questions List */}\r\n                {questions.length > 0 && (\r\n                  <div className=\"space-y-3 mb-4\">\r\n                    {questions.map((question, index) => (\r\n                      <div key={question.id} className=\"bg-gray-50 rounded-lg p-4 border border-gray-200\">\r\n                        <div className=\"flex items-start justify-between\">\r\n                          <div className=\"flex-1\">\r\n                            <h4 className=\"font-medium text-gray-900 mb-2\">\r\n                              Soal {index + 1}: {question.question_text || 'Belum diisi'}\r\n                            </h4>\r\n                            <div className=\"text-sm text-gray-600\">\r\n                              {question.options.filter(opt => opt.trim()).length} opsi jawaban\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"flex items-center gap-2 ml-4\">\r\n                            <button\r\n                              type=\"button\"\r\n                              onClick={() => editQuestion(question.id)}\r\n                              className=\"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors\"\r\n                              title=\"Edit soal\"\r\n                            >\r\n                              <Edit className=\"w-4 h-4\" />\r\n                            </button>\r\n                            <button\r\n                              type=\"button\"\r\n                              onClick={() => deleteQuestion(question.id)}\r\n                              className=\"p-1.5 text-red-600 hover:bg-red-50 rounded-lg transition-colors\"\r\n                              title=\"Hapus soal\"\r\n                            >\r\n                              <X className=\"w-4 h-4\" />\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n\r\n                {/* Question Form */}\r\n                {showQuestionForm && editingQuestionId && (() => {\r\n                  const currentEditingQuestion = questions.find(q => q.id === editingQuestionId);\r\n                  if (!currentEditingQuestion) return null;\r\n\r\n                  return (\r\n                    <div className=\"bg-blue-50 rounded-lg p-4 border border-blue-200 mb-4\">\r\n                      <h4 className=\"font-medium text-gray-900 mb-3\">\r\n                        Edit Soal {questions.findIndex(q => q.id === editingQuestionId) + 1}\r\n                      </h4>\r\n\r\n                      <div className=\"space-y-4\">\r\n                        <div>\r\n                          <label className=\"block text-sm font-medium text-gray-700 mb-2\">Pertanyaan *</label>\r\n                          <textarea\r\n                            value={currentEditingQuestion.question_text}\r\n                            onChange={(e) => updateQuestion(editingQuestionId!, { question_text: e.target.value })}\r\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none\"\r\n                            rows={3}\r\n                            placeholder=\"Masukkan pertanyaan...\"\r\n                            required\r\n                          />\r\n                        </div>\r\n\r\n                        <div>\r\n                          <label className=\"block text-sm font-medium text-gray-700 mb-2\">Opsi Jawaban *</label>\r\n                          {currentEditingQuestion.options.map((option, optionIndex) => (\r\n                            <div key={optionIndex} className=\"flex items-center gap-2 mb-2\">\r\n                              <input\r\n                                type=\"radio\"\r\n                                name={`correct_${editingQuestionId}`}\r\n                                checked={currentEditingQuestion.correct_answer_index === optionIndex}\r\n                                onChange={() => updateQuestion(editingQuestionId!, { correct_answer_index: optionIndex })}\r\n                                className=\"w-4 h-4 text-blue-600\"\r\n                              />\r\n                              <input\r\n                                type=\"text\"\r\n                                value={option}\r\n                                onChange={(e) => {\r\n                                  const newOptions = [...currentEditingQuestion.options];\r\n                                  newOptions[optionIndex] = e.target.value;\r\n                                  updateQuestion(editingQuestionId!, { options: newOptions });\r\n                                }}\r\n                                className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                                placeholder={`Opsi ${optionIndex + 1}...`}\r\n                              />\r\n                              {currentEditingQuestion.options.length > 2 && (\r\n                                <button\r\n                                  type=\"button\"\r\n                                  onClick={() => {\r\n                                    const newOptions = currentEditingQuestion.options.filter((_, i) => i !== optionIndex);\r\n                                    const newCorrectIndex = currentEditingQuestion.correct_answer_index >= newOptions.length\r\n                                      ? newOptions.length - 1\r\n                                      : currentEditingQuestion.correct_answer_index;\r\n                                    updateQuestion(editingQuestionId!, {\r\n                                      options: newOptions,\r\n                                      correct_answer_index: newCorrectIndex\r\n                                    });\r\n                                  }}\r\n                                  className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors\"\r\n                                >\r\n                                  <X className=\"w-4 h-4\" />\r\n                                </button>\r\n                              )}\r\n                            </div>\r\n                          ))}\r\n                          {currentEditingQuestion.options.length < 6 && (\r\n                            <button\r\n                              type=\"button\"\r\n                              onClick={() => {\r\n                                const newOptions = [...currentEditingQuestion.options, \"\"];\r\n                                updateQuestion(editingQuestionId!, { options: newOptions });\r\n                              }}\r\n                              className=\"text-blue-600 hover:text-blue-700 text-sm font-medium\"\r\n                            >\r\n                              + Tambah Opsi\r\n                            </button>\r\n                          )}\r\n                        </div>\r\n\r\n                        <div>\r\n                          <label className=\"block text-sm font-medium text-gray-700 mb-2\">Penjelasan (opsional)</label>\r\n                          <textarea\r\n                            value={currentEditingQuestion.explanation || \"\"}\r\n                            onChange={(e) => updateQuestion(editingQuestionId!, { explanation: e.target.value })}\r\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none\"\r\n                            rows={2}\r\n                            placeholder=\"Penjelasan jawaban yang benar...\"\r\n                          />\r\n                        </div>\r\n\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <button\r\n                            type=\"button\"\r\n                            onClick={() => {\r\n                              setShowQuestionForm(false);\r\n                              setEditingQuestionId(null);\r\n                            }}\r\n                            className=\"px-3 py-1.5 bg-gray-100 hover:bg-gray-200 text-gray-700 text-sm rounded-lg transition-colors\"\r\n                          >\r\n                            Selesai\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })()}\r\n              </div>\r\n\r\n              {/* Form Actions */}\r\n              <div className=\"flex items-center gap-3 pt-6 border-t border-gray-200\">\r\n                <button\r\n                  type=\"submit\"\r\n                  disabled={aSubmitting}\r\n                  className=\"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg shadow transition-colors disabled:opacity-60\"\r\n                >\r\n                  {aSubmitting ? 'Menyimpan...' : 'Simpan Kuis'}\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => {\r\n                    resetQuizForm();\r\n                    setShowAdd(false);\r\n                  }}\r\n                  className=\"inline-flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg shadow transition-colors\"\r\n                >\r\n                  Batal\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </form>\r\n      )}\r\n\r\n      {/* Edit form section */}\r\n      {showEdit && (\r\n        <form onSubmit={submitEdit} className=\"bg-white rounded-xl p-5 shadow-sm border border-gray-200 mb-6\">\r\n          <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Edit {title}</h2>\r\n          {resource === 'materi' ? (\r\n            <div className=\"grid grid-cols-1 gap-4\">\r\n              <div>\r\n                <label className=\"text-sm text-gray-600\">Judul *</label>\r\n                <input value={eTitle} onChange={(e) => setETitle(e.target.value)} className=\"w-full px-3 py-2 border text-black border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" placeholder=\"Judul minimal 3 karakter\" required minLength={3} />\r\n              </div>\r\n              <div>\r\n                <label className=\"text-sm text-gray-600\">Konten *</label>\r\n                <textarea value={eContent} onChange={(e) => setEContent(e.target.value)} className=\"w-full px-3 py-2 border text-black border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 min-h-32\" placeholder=\"Konten minimal 10 karakter\" required />\r\n              </div>\r\n              <div className=\"flex items-center gap-2\">\r\n                <input id=\"e-published\" type=\"checkbox\" checked={ePublished} onChange={(e) => setEPublished(e.target.checked)} className=\"w-4 h-4\" />\r\n                <label htmlFor=\"e-published\" className=\"text-sm text-gray-700\">\r\n                  Terbitkan\r\n                </label>\r\n              </div>\r\n              <div>\r\n                <button type=\"submit\" disabled={eSubmitting} className=\"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white shadow disabled:opacity-60\">\r\n                  {eSubmitting ? 'Menyimpan...' : 'Simpan Perubahan'}\r\n                </button>\r\n                <button type=\"button\" onClick={() => { setShowEdit(false); setEditingItem(null); }} className=\"ml-2 inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-gray-100 hover:bg-gray-200 text-gray-700 shadow\">\r\n                  Batal\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"grid grid-cols-1 gap-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Judul Kuis *</label>\r\n                <input\r\n                  value={eTitle}\r\n                  onChange={(e) => setETitle(e.target.value)}\r\n                  className=\"w-full px-3 py-2 border text-black border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                  placeholder=\"Judul minimal 3 karakter\"\r\n                  required\r\n                  minLength={3}\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Deskripsi</label>\r\n                <textarea\r\n                  value={eDescription}\r\n                  onChange={(e) => setEDescription(e.target.value)}\r\n                  className=\"w-full px-3 py-2 border text-black border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 resize-none\"\r\n                  placeholder=\"Deskripsi singkat kuis (opsional)\"\r\n                  rows={2}\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Sub Materi *</label>\r\n                <select\r\n                  value={eSubMateriId}\r\n                  onChange={(e) => setESubMateriId(e.target.value)}\r\n                  className=\"w-full px-3 py-2 border text-black border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                  required\r\n                >\r\n                  <option value=\"\">Pilih Sub Materi</option>\r\n                  {(Array.isArray(subMateriOptions) ? subMateriOptions : []).map((option) => (\r\n                    <option key={option.id} value={option.id}>\r\n                      {option.title}\r\n                    </option>\r\n                  ))}\r\n                  {subMateriOptions.length === 0 && (\r\n                    <option value=\"\" disabled>\r\n                      Tidak ada materi tersedia\r\n                    </option>\r\n                  )}\r\n                </select>\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Batas Waktu (menit)</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    min={1}\r\n                    value={eTimeLimit}\r\n                    onChange={(e) => setETimeLimit(e.target.value)}\r\n                    className=\"w-full px-3 py-2 border text-black border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                    placeholder=\"30\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Nilai Kelulusan (%)</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    min={0}\r\n                    max={100}\r\n                    value={ePassingScore}\r\n                    onChange={(e) => setEPassingScore(e.target.value)}\r\n                    className=\"w-full px-3 py-2 border text-black border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                    placeholder=\"70\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"flex items-center gap-2\">\r\n                  <input\r\n                    id=\"eq-published\"\r\n                    type=\"checkbox\"\r\n                    checked={ePublished}\r\n                    onChange={(e) => setEPublished(e.target.checked)}\r\n                    className=\"w-4 h-4 text-blue-600 rounded\"\r\n                  />\r\n                  <span className=\"text-sm font-medium text-gray-700\">Publikasikan kuis</span>\r\n                </label>\r\n              </div>\r\n\r\n              <div>\r\n                <button type=\"submit\" disabled={eSubmitting} className=\"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white shadow disabled:opacity-60\">\r\n                  {eSubmitting ? 'Menyimpan...' : 'Simpan Perubahan'}\r\n                </button>\r\n                <button type=\"button\" onClick={() => { setShowEdit(false); setEditingItem(null); }} className=\"ml-2 inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-gray-100 hover:bg-gray-200 text-gray-700 shadow\">\r\n                  Batal\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </form>\r\n      )}\r\n\r\n      {/* Preview Modal */}\r\n      {showPreview && previewItem && (\r\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-xl max-w-6xl w-full max-h-[90vh] overflow-hidden flex flex-col\">\r\n            {/* Modal Header */}\r\n            <div className=\"px-6 py-4 border-b border-gray-200 flex items-center justify-between\">\r\n              <h3 className=\"text-xl font-semibold text-gray-900\">\r\n                Preview: {previewItem.title}\r\n              </h3>\r\n              <button\r\n                onClick={() => { setShowPreview(false); setPreviewItem(null); }}\r\n                className=\"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors\"\r\n              >\r\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                </svg>\r\n              </button>\r\n            </div>\r\n\r\n            {/* Modal Content */}\r\n            <div className=\"overflow-y-auto flex-1\">\r\n              {previewItem.poinDetails && previewItem.poinDetails.length > 0 ? (\r\n                <MaterialPreview\r\n                  poins={previewItem.poinDetails}\r\n                  materialTitle={previewItem.title}\r\n                />\r\n              ) : (\r\n                <div className=\"px-6 py-8 text-center\">\r\n                  <p className=\"text-gray-500 italic text-lg\">Belum ada poin yang dibuat</p>\r\n                  <p className=\"text-sm text-gray-400 mt-2\">\r\n                    Tambahkan poin pembelajaran untuk melihat preview lengkap\r\n                  </p>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Modal Footer */}\r\n            <div className=\"px-6 py-4 border-t border-gray-200 flex justify-end\">\r\n              <button\r\n                onClick={() => { setShowPreview(false); setPreviewItem(null); }}\r\n                className=\"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors\"\r\n              >\r\n                Tutup\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"bg-white rounded-xl shadow-sm border border-gray-200\">\r\n        {/* Header with refresh button */}\r\n        <div className=\"flex items-center justify-between p-4 border-b border-gray-200\">\r\n          <div>\r\n            <h2 className=\"text-xl font-semibold text-gray-900\">{title} Modul {currentModuleName || `#${moduleId}`}</h2>\r\n            <p className=\"text-sm text-gray-500 mt-1\">\r\n              Menampilkan semua {title.toLowerCase()}\r\n            </p>\r\n          </div>\r\n          <div className=\"flex items-center gap-2\">\r\n            <button\r\n              onClick={onManualRefresh}\r\n              disabled={isRefreshing}\r\n              className=\"inline-flex items-center gap-2 px-3 py-1.5 text-sm bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors disabled:opacity-50\"\r\n              title=\"Refresh data\"\r\n            >\r\n              <RefreshCw className={`w-4 h-4 ${isRefreshing ? 'animate-spin' : ''}`} />\r\n              {isRefreshing ? 'Memuat...' : 'Refresh'}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Status Filter & Search */}\r\n        <div className=\"px-4 py-3 border-b border-gray-200\">\r\n          <div className=\"flex items-center justify-between gap-4\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <span className=\"text-sm font-medium text-gray-700\">Filter Status:</span>\r\n              <div className=\"flex bg-gray-100 rounded-lg p-1\">\r\n                <button\r\n                  onClick={() => setStatusFilter('all')}\r\n                  className={`px-3 py-1 text-xs rounded-md transition-colors ${statusFilter === 'all'\r\n                    ? 'bg-white text-gray-900 shadow-sm'\r\n                    : 'text-gray-600 hover:text-gray-900'\r\n                    }`}\r\n                >\r\n                  Semua ({rows.length})\r\n                </button>\r\n                <button\r\n                  onClick={() => setStatusFilter('published')}\r\n                  className={`px-3 py-1 text-xs rounded-md transition-colors ${statusFilter === 'published'\r\n                    ? 'bg-white text-gray-900 shadow-sm'\r\n                    : 'text-gray-600 hover:text-gray-900'\r\n                    }`}\r\n                >\r\n                  Published ({rows.filter(r => r.published).length})\r\n                </button>\r\n                <button\r\n                  onClick={() => setStatusFilter('draft')}\r\n                  className={`px-3 py-1 text-xs rounded-md transition-colors ${statusFilter === 'draft'\r\n                    ? 'bg-white text-gray-900 shadow-sm'\r\n                    : 'text-gray-600 hover:text-gray-900'\r\n                    }`}\r\n                >\r\n                  Draft ({rows.filter(r => !r.published).length})\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-2\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder={`Cari ${title.toLowerCase()}...`}\r\n                value={searchTerm}\r\n                onChange={(e) => setSearchTerm(e.target.value)}\r\n                className=\"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              />\r\n              {searchTerm && (\r\n                <button\r\n                  onClick={() => setSearchTerm('')}\r\n                  className=\"p-2 text-gray-400 hover:text-gray-600 transition-colors\"\r\n                  title=\"Clear search\"\r\n                >\r\n                  <X className=\"w-4 h-4\" />\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* DataTable content */}\r\n        <div className=\"p-4\">\r\n          <DataTable<ModuleItemRow>\r\n            title=\"\"\r\n            data={filteredRows}\r\n            columns={columns}\r\n            onAdd={onAdd}\r\n            onEdit={onEdit}\r\n            onDelete={onDelete}\r\n            onView={resource === \"materi\" ? onPreview : undefined}\r\n            onCustomAction={onTambahPoin}\r\n            customActionIcon={<Plus className=\"w-4 h-4\" />}\r\n            customActionTitle={resource === \"materi\" ? \"Tambah Poin\" : \"Tambah Soal\"}\r\n            customActionColor=\"purple-600\"\r\n            searchPlaceholder={searchPlaceholder}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3573, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Asus%20TUF%20Gaming/Documents/KULIAH/Pengabdian%20Website%20Posyandu/bukadita_backoffice/src/app/admin/modul/%5Bid%5D/kuis/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useParams } from \"next/navigation\";\r\nimport ModuleItemsPage from \"@/components/admin/shared/ModuleItemsPage\";\r\n\r\nexport default function ModulKuisPage() {\r\n  const params = useParams();\r\n  const moduleId = String(params?.id || \"\");\r\n  return <ModuleItemsPage moduleId={moduleId} resource=\"kuis\" />;\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAKe,SAAS;;IACtB,MAAM,SAAS,IAAA,iOAAS;IACxB,MAAM,WAAW,OAAO,CAAA,mBAAA,6BAAA,OAAQ,EAAE,KAAI;IACtC,qBAAO,4QAAC,qPAAe;QAAC,UAAU;QAAU,UAAS;;;;;;AACvD;GAJwB;;QACP,iOAAS;;;KADF","debugId":null}}]
}